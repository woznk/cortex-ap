
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head id="Head1">
        <SCRIPT LANGUAGE="JavaScript">
    <!--
            var gomez = {
                gs: new Date().getTime(),
                acctId: 'C40FE5',
                pgId: '',
                grpId: ''
            }; 
     //--> 
     </SCRIPT> 
     <SCRIPT LANGUAGE="JavaScript">
    <!--
         /*Gomez tag version: 6.0*/var gomez = gomez ? gomez : {}; gomez.h3 = function (d, s) { for (var p in s) { d[p] = s[p]; } return d; }; gomez.h3(gomez, { b3: function (r) { if (r <= 0) return false; return Math.random() <= r && r; }, b0: function (n) { var c = document.cookie; var v = c.match(new RegExp(';[ ]*' + n + '=([^;]*)')); if (!v) v = c.match(new RegExp('^' + n + '=([^;]*)')); if (v) return unescape(v[1]); return ''; }, c2: function (n, v, e, p, d, s) { try { var t = this, a = t.domain ? t.domain : location.hostname; var c = n + '=' + escape(v) + (e ? ';expires=' + e.toGMTString() : '') + (p ? ';path=' + p : ';path=/') + (d ? ';domain=' + d : ';domain=' + a) + (s ? ';secure' : ''); document.cookie = c; } catch (e) { } }, z0: function (n) { var t = this; if (n) { var s = t.b0("__g_c"); if (!s) return ''; var v = s.match(new RegExp(n + ':([^\|]*)')); if (v) return unescape(v[1]); return ''; } else return ''; }, z1: function (n, m) { var t = this; if (n) { var s = t.b0("__g_c"); if (s) { if (s.indexOf(n + ':') != -1) s = s.replace(new RegExp('(' + n + ':[^\|]*)'), n + ':' + m); else s = s == ' ' ? n + ':' + m : s + '|' + n + ':' + m; t.c2("__g_c", s); } else t.c2("__g_c", n + ':' + m); }; }, b2: function (v, s) { var t = this, f = new Date(t.gt() + 946080000000), g = '' + v + '_' + s; t.c2('__g_u', g, f); t.gc.c = v; t.gc.d = s; t.z1('c', v); t.z1('d', s); }, gt: function () { return new Date().getTime() }, b5: function () { return new Date().getTime() - gomez.gs }, j1: function (h) { if (h) { if (h.indexOf('<') != -1 || h.indexOf('%3C') != -1 || h.indexOf('%3c') != -1) return null; if (window.decodeURIComponent) return decodeURIComponent(h); else return unescape(h); } return null; }, f1: function (u, t) { try { if (u) { if (!/(^http|^https)/.test(u)) { if (t == 1) return gomez.j1(location.hostname); else return u; } var p = new RegExp('(^http|^https|):\/{2}([^\?#;]*)'); if (t == 1) p = new RegExp('(^http|^https|):\/{2}([^\/\?]*)'); var r = u.match(p); if (r && t == 1) return gomez.j1(r[2]); else if (r) return r[0]; } return null; } catch (e) { return null; } }, j2: function () { try { var m, t = this, key = escape((document.referrer + window.location).replace(new RegExp("([:\/\.])", "gm"), "")); if (window.localStorage) { m = window.localStorage.getItem(key); } if (!m) { var c = t.z0("r"); if (c) { var r = c.split('___'); if (r && r[0] == key) { m = r[1]; } }; }; t.j4(); return m; } catch (e) { return; } }, j3: function (n) { try { var t = this, key = escape((window.location + n).replace(new RegExp("([:\/\.])", "gm"), "")); if (window.localStorage) { window.localStorage.setItem(key, t.gt()); } t.z1('r', key + '___' + t.gt()); } catch (e) { return; } }, j4: function () { try { var t = this; if (window.localStorage) { window.localStorage.removeItem(escape((document.referrer + window.location).replace(new RegExp("([:\/\.])", "gm"), ""))); } t.z1('r', ''); } catch (e) { return; } }, j5: function () { var ret = ''; for (var i = 0; i < 3; i++) { ret = ret + (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1); } ret = parseInt(ret, 16); return ret; }, j6: function () { var t = this; var g = t.b0("__g_u"); if (g && g != '1' && g.indexOf('NaN') == -1 && g.indexOf('undefined') == -1) { var r = g.split("_"); if (r.length > 5) { if (parseInt(r[5]) < new Date().getTime()) { return undefined; } else { return parseFloat(r[2]); } } } return undefined; }, nameEvent: function () { }, startInterval: function () { }, endInterval: function () { }, customValue: function () { } }); gomez.P = function () { }; gomez.P.prototype = { hash: function (o) { if (!o) return ''; var t = this, s = '{n:' + t.f9(o['n']) + '|'; for (var i in o) { if (i == 'n') continue; if (typeof (o[i]) == 'string' || typeof (o[i]) == 'number') s += i + ':' + t.f9(o[i]) + '|'; }; s = s.substring(0, s.length - 1); return s + '}'; }, f9: function (s) { s = '' + s; s = s.replace('|', '#$#').replace(':', '$*$').replace('{', '@#@').replace('}', '*@*').replace('&', '!*!'); return s; }, g0: function () { var t = this, z = gomez; if (z.grpIds) z.h3(z.gc, z.grpIds); if (z.wrate) z.gc.r = z.wrate; z.gc.e = z.grpId; for (var i = 1; i < 5; i++) { if (z["grpId" + i] != undefined) { z.gc["e" + i] = z["grpId" + i]; } } z.gc.b = z.pgId; z.gc.l = z.f1(z.m, 2); if (self.screen) { z.gc.m = screen.width; z.gc.o = screen.height; } else if (self.java) { var j = java.awt.Toolkit.getDefaultToolkit(); var s = j.getScreenSize(); z.gc.m = s.width; z.gc.o = s.height; }; z.gc.p = navigator.platform; if (navigator.cpuClass) z.gc.q = navigator.cpuClass; if (!z.gc.f && !z.gc.g) { try { var a = new Array("MSIE", "Firefox", "Opera", "Safari", "Chrome"), b = document.createElement('div'); if (b.addBehavior && document.body) { b.addBehavior('#default#clientCaps'); z.gc.k = b.connectionType; } } catch (e) { }; for (var i = 0; i < a.length; i++) { if (navigator.userAgent.indexOf(a[i]) != -1) { z.gc.g = a[i]; z.gc.f = (new String(navigator.userAgent.substring(navigator.userAgent.indexOf(a[i])).match(/[\d.]+/))).substring(0); } } if (!z.gc.f && !z.gc.g) { z.gc.g = navigator.vendor || navigator.appName; z.gc.f = (new String(navigator.appVersion.match(/[\d.]+/))).substring(0); } } return t.hash(z.gc); } }; try { gomez.gc = { 'n': 'c' }; var iU = gomez.b0('__g_u'); if (iU == undefined || iU == '') { gomez.b2(gomez.j5(), 0); } var sR = gomez.j6(); if (sR == undefined) { sR = 1; gomez.isFirstVi = true; } else { gomez.isFirstVi = false; } var wR = gomez.wrate ? parseFloat(gomez.wrate) : (gomez.wrate == 0 ? 0 : 1); wR = wR < 0 ? 0 : (wR > 1 ? 1 : wR); gomez.inSample = gomez.z0('a'); if (!gomez.inSample || gomez.inSample == '') { if (gomez.b3(wR * sR)) { gomez.inSample = 1; } else { gomez.inSample = 0; } gomez.z1('a', gomez.inSample); } else { gomez.inSample = parseInt(gomez.inSample); } gomez.runFlg = gomez.inSample > 0; if (gomez.runFlg) { gomez.clickT = gomez.j2(); gomez.h1 = function (v, d) { return v ? v : d }; gomez.gs = gomez.h1(gomez.gs, new Date().getTime()); gomez.acctId = gomez.h1(gomez.acctId, ''); gomez.pgId = gomez.h1(gomez.pgId, ''); gomez.grpId = gomez.h1(gomez.grpId, ''); gomez.E = function (c) { this.s = c; }; gomez.E.prototype = { g1: function (e) { var t = gomez, i = t.g6(e); if (i) i.e = t.b5(); } }; gomez.L = function (m) { this.a = m; }; gomez.L.prototype = { g2: function (m) { var t = gomez, n = t.b5(); var s = document.getElementsByTagName(m); var e = t.k; if (m == 'script') e = t.j; if (m == 'iframe') e = t.l; if (s) { var l = s.length; for (var i = 0; i < l; i++) { var u = s[i].src || s[i].href; if (u && !e[u]) { var r = new gomez.E(e); t.grm[u] = r; e[u] = new t.c7(u, n); if (t.gIE && m == 'script') t.e2(s[i], 'readystatechange', t.d2, false); else t.e2(s[i], 'load', r.g1, false); } } } } }; gomez.L.m = new Object; gomez.L.m['link'] = new gomez.L(); gomez.L.m['iframe'] = new gomez.L(); gomez.S = function () { var t = this, h = gomez.acctId + ".r.axf8.net"; t.x = ('https:' == location.protocol ? 'https:' : 'http:') + '//' + h + '/mr/b.gif?'; t.pvHttpUrl = ('https:' == location.protocol ? 'https:' : 'http:') + '//' + h + '/mr/e.gif?'; t.abHttpUrl = ('https:' == location.protocol ? 'https:' : 'http:') + '//' + h + '/mr/f.gif?'; }; gomez.h2 = function () { var t = this; t.gIE = false; t.f = new Object; t._h = 0; t.j = new Object; t.k = new Object; t.l = new Object; t.m = location.href; t.p = -1; t.q = -1; t.t = new Array; t.u = new Array; t._w = false; t.gSfr = /KHTML|WebKit/i.test(navigator.userAgent); t.grm = new Object; t.b; t.d = false; t.x = false; t.s = new gomez.S; t._a = false; t.h6 = false; t.n1 = 0; t.c = false; }; gomez.h3(gomez, { h5: function (u) { try { var s = document.createElement('script'); s.src = u; s.type = 'text/javascript'; if (document.body) document.body.appendChild(s); else if (document.documentElement.getElementsByTagName('head')[0]) document.documentElement.getElementsByTagName('head')[0].appendChild(s); } catch (e) { var t = gomez; if (t.gSfr) document.write("<scr" + "ipt src='" + u + "'" + "><\/scr" + "ipt>"); } }, a9: function () { var t = gomez, i = t.z0('a'), g = t.b0('__g_u'), h = t.z0('h'), b = t.z0('b'); t.gc.h = b; if (h) t.n1 = parseInt(h); if (!t.gc.h) t.gc.h = 1; t.z1('b', parseInt(t.gc.h) + 1); if (i) { t.a = parseInt(i); if (t.a == 1) { t._w = true; } else if (t.a == 3) { t.x = true; t._w = true; }; t.d = true; } if (b) { t.gc.c = t.z0('c'); t.gc.i = t.z0('e'); t.gc.j = t.z0('f'); t.iFS = false; } else { if (!t.gc.a) return; var s = 'v=1'; t.c2('__g_u', '1', new Date(t.gt() + 1000)); t.iFS = true; if (t.b0('__g_u') && g && g != '1' && g.indexOf('NaN') == -1 && g.indexOf('undefined') == -1) { s = 'v=0'; var r = g.split('_'); t.b2(parseInt(r[0]), parseInt(r[1]) + 1); if (r[4] && r[4] != '0' && t.gt() < parseInt(r[5]) && r[2] && r[2] != '0') { t.b1(parseFloat(r[2]), parseFloat(r[3]), parseFloat(r[4]), parseInt(r[5])); if (r[6]) t.n0(parseInt(r[6])); }; }; t.h6 = true; }; t.gc.d = t.z0('d'); if (!t.gc.d || (t.gc.d && t.gc.d == 0)) { t.z1('d', 1); t.gc.d = 1; } t.b = t.z0('g'); t.j8(); if (i && !t.isFirstVi && t._w && !t._a) { t.h7(); t._a = true; }; }, h7: function () { var t = gomez, u = t.tloc ? t.tloc : ('https:' == location.protocol ? 'https:' : 'http:') + '//' + t.acctId + '.t.axf8.net/js/gtag6.0.js'; t.h5(u); }, n0: function (h) { var t = gomez, f = new Date(t.gt() + 946080000000), g = t.b0('__g_u'); t.n1 = h; t.z1('h', h); if (g && g != '1' && g.indexOf('NaN') == -1 && g.indexOf('undefined') == -1) { var r = g.split('_'); g = '' + r[0] + '_' + r[1] + '_' + r[2] + '_' + r[3] + '_' + r[4] + '_' + r[5] + '_' + h; t.c2('__g_u', g, f); }; }, b1: function (v, s, q, f) { var t = this; if (s == undefined) s = 1; t.d = true; t.z1('e', v); t.z1('f', s); t.gc.i = v; t.gc.j = s; t.h4(v, s, q, f); }, b3: function (i, v, s) { var t = this; t.d = true; if (s == undefined) s = 1; if (i == 0 || i == 1) { t.a = i; if (i == 1) { t._w = true; if (!t._a) { t.h7(); t._a = true; }; } t.z1('a', t.a); if (v != undefined) { t.b1(v, s); } } else if (i == 2) { t.h4(v, s); } }, h4: function (o, p, q, d) { var t = this, f = new Date(t.gt() + 946080000000), g = t.b0('__g_u'); if (g && g != '1' && g.indexOf('NaN') == -1 && g.indexOf('undefined') == -1) { var r = g.split('_'), s; if (d) s = d; else if (q && q >= 0) s = new Date(t.gt() + parseInt(q * 86400000)).getTime(); else { q = 5; s = new Date(t.gt() + 432000000).getTime(); }; g = '' + r[0] + '_' + r[1] + '_' + o + '_' + p + '_' + q + '_' + s; t.c2('__g_u', g, f); }; }, b6: function () { var t = gomez; t.p = t.b5(); }, f8: function () { var t = this; if (t.pollId1) clearInterval(t.pollId1); if (t.pollId2) clearInterval(t.pollId2); if (t.pollId3) clearInterval(t.pollId3); if (t.pollId4) clearInterval(t.pollId4); }, b7: function () { var t = gomez; t.f8(); t.q = t.b5(); }, c7: function (u, s) { var t = this; t.m = u; t.s = s; }, c8: function () { var t = gomez, n = t.b5(), l = document.images.length; if (l > t._h) { for (var i = t._h; i < l; ++i) { var u = document.images[i].src; if (u) { var r = new gomez.E(t.f); t.grm[u] = r; t.f[u] = new t.c7(u, n); t.e2(document.images[i], 'load', t.c4, false); t.e2(document.images[i], 'error', t.c5, false); t.e2(document.images[i], 'abort', t.c6, false); } } } t._h = l; }, c4: function (e) { var t = gomez, i = t.g6(e); if (i) i.e = t.b5(); }, c5: function (e) { var t = gomez, i = t.g6(e); if (i) { i.e = t.b5(); i.b = 1; } }, c6: function (e) { var t = gomez, i = t.g6(e); if (i) i.a = t.b5(); }, g6: function (e) { var t = gomez, e = window.event ? window.event : e, a = t.d8(e), i; if (t.grm[a.src || a.href] && t.grm[a.src || a.href].s) i = t.grm[a.src || a.href].s[a.src || a.href]; return i; }, d2: function () { var t = gomez; var e = window.event ? window.event : e, s = t.d8(e); if (s.readyState == 'loaded' || s.readyState == 'complete') { var o = t.j[s.src]; if (o) o.e = t.b5(); } }, setPair: function (name, value) { var t = this; t.t[t.t.length] = { 'n': 'p', 'a': name, 'b': value }; }, nameEvent: function (n) { var t = this; t.f6(n, 1); }, startInterval: function (n) { var t = this; t.f6(n, 2, 1); }, endInterval: function (n) { var t = this; t.f6(n, 2, 2); }, f6: function (n, p, b) { if (n && n.length > 20) n = n.substring(0, 20); var t = this, f = t.u; if (p == 3) { f[f.length] = { 'n': 'a', 'a': n, 'b': b, 'e': p, 'f': undefined }; } else { f[f.length] = { 'n': 'a', 'a': n, 'b': t.b5(), 'e': p, 'f': b }; } }, customValue: function (n, v) { var t = this; if (typeof (v) != 'number') { return; } t.f6(n, 3, v); }, d8: function (e) { if (gomez.gIE) return e.srcElement || {}; else return e.currentTarget || e.target || {}; }, e2: function (e, p, f, c) { var n = 'on' + p; if (e.addEventListener) e.addEventListener(p, f, c); else if (e.attachEvent) e.attachEvent(n, f); else { var x = e[n]; if (typeof e[n] != 'function') e[n] = f; else e[n] = function (a) { x(a); f(a); }; } }, i1: function () { var d = window.document, done = false, i2 = function () { if (!done) { done = true; gomez.b6(); gomez.a9(); } }; (function () { try { d.documentElement.doScroll('left'); } catch (e) { setTimeout(arguments.callee, 50); return; } i2(); })(); d.onreadystatechange = function () { if (d.readyState == 'complete') { d.onreadystatechange = null; i2(); } }; }, j7: function (s, toUrl) { try { var t = this, z = gomez; if (!s) return; s += "{n:u|e:1}"; var p = ''; if (t.isFirstVi) { p = '&a=' + z.acctId + '&r=1&s=1'; } else if (t.iFS) { p = '&a=' + z.acctId + '&r=' + t.j6(); } if (window.encodeURIComponent) s = encodeURIComponent(s); else s = escape(s); z.h5(z.e(toUrl) + 'info=' + s + p); } catch (err) { } return; }, e: function (u) { if (!/\?|&/.test(u)) if (!/\?/.test(u)) u += '?'; else u += '&'; return u; }, j8: function () { var t = gomez, p = new gomez.P(); var s = p.g0(); t.j7(s, t.s.pvHttpUrl); }, g7: function () { try { var t = gomez; t.gc.a = t.acctId; /*@cc_ont.gIE = true; @*/if (t.gIE) { t.i1(); window.attachEvent('onload', t.b7); } else if (window.addEventListener) { window.addEventListener('DOMContentLoaded', t.b6, false); window.addEventListener('load', t.b7, false); } else if (t.gSfr) { var m = setInterval(function () { if (/loaded|complete/.test(document.readyState)) { clearInterval(m); delete m; t.b6(); t.b7(); } }, 10); } else return; if (!t.jbo) { t.c8(); t.pollId1 = setInterval(t.c8, 10); gomez.L.m['link'].g2('link'); t.pollId3 = setInterval("gomez.L.m['link'].g2('link')", 10); gomez.L.m['iframe'].g2('iframe'); t.pollId4 = setInterval("gomez.L.m['iframe'].g2('iframe')", 10); } if (!t.gIE) t.a9(); } catch (e) { return; } } }); gomez.h2(); gomez.g7(); } } catch (e) { };
    //--> 
     </SCRIPT> 
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><title>
	Make a PI controller on an 8-bit micro
</title>   
    <meta name="description" content="Normally the domain of more expensive 16- and 32-bit chips, PI controllers are useful in all sorts of industrial applications. Here's a practical way to implement a PI controller on a low-cost 8-bit chip."/>
    <meta name="keywords" content="8-bit microcontroller, Microchip, proportional-integral, 16-bit and 32 bit precision, actuator control " />	
    <link rel="canonical" href="http://www.eetimes.com/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-micro"/>
 
    <link rel="StyleSheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,700,400italic,700italic|PT+Sans+Narrow:400,700" />
    <link rel="shortcut icon" type="image/ico" href="/favicon.ico" />
    <link href="http://cdn.eetimes.com/StaticContent/v17/CSS/Site.css" rel="stylesheet" type="text/css" />                    
    <link href="http://cdn.eetimes.com/StaticContent/v17/CSS/globalheader.css" rel="stylesheet" type="text/css" />                    
    <script type="text/javascript" src="http://cdn.eetimes.com/StaticContent/v17/Scripts/jquery-1.3.2.min.js"></script>
     <meta name="google-site-verification" content="aqeQJl1dzvKlHHA8IpYN0UlBUkeV64imdVnsZ5yJS7s" />
    

    <script type="text/javascript">
        function validateMasterPageSearchText() {
            var searchtext = $("#SearchTextBox").val();
            if (searchtext.indexOf("<") != -1 || searchtext.indexOf(">") != -1) {
                $("#masterPageSearchError").html("The search text cannot contain < or >.");
                return false;
            }
        }    
    </script>
       <script type="text/javascript">
           //Random Number for Group (Ads)
           PageGroupId = Math.floor(10000000 * Math.random());                
    </script>
       
</head>
<body >
   <script type="text/javascript">
        var url = 'http://www.eetimes.com';
    </script>
    <!-- welcome -->
    <!-- Begin: Global Header -->
    <div id="global-header">
    <div class="global-container">
        <a href="http://www.eetimes.com/" target="_blank" class="first">EE Times</a>&#124;
        <a href="http://www.edn.com/" target="_blank">EDN</a>&#124;
        <a href="http://www.datasheets.com" target="_blank">DataSheets.com</a>&#124;
        <a href="http://www.designnews.com" target="_blank">Design News</a>&#124;
        <a href="http://www.ebnonline.com" target="_blank">EBN</a>&#124;
        <a href="http://www.tmworld.com" target="_blank">Test &amp; Measurement World</a>&#124;
        <span class="global-events">Events
        <div class="global-events-list">
            <ul>
                <li><a href="http://www.ubmdesign.com/" target="_blank">DESIGN West</a></li>
                <li><a href="http://esc.eetimes.com/boston/" target="_blank">DESIGN East</a></li>
                <li><a href="http://www.designcon.com/" target="_blank">DesignCon</a></li>
                <li><a href="http://e.ubmelectronics.com/armtechcon/index.html" target="_blank">ARM TechCon</a></li>
            </ul>
        </div>   
        </span>
        &#124;
        <span class="last"><a href="http://www.ubmelectronics.com" style="color:#C4161C">UBM Electronics</a></span>
    </div>
</div>
    <div style="height:0px">
        <span class="AdTech:WelcomeAd"><script language="javascript">
				  <!--
					  document.write('<scr' + 'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5242.1/1374603/0/16/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Welcome_Ad_1x1;loc=100;target=_blank;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp='+PageGroupId+';misc=' + new Date().getTime() + '"></scri' + 'pt>');
				  //-->
				  </script>
				  <noscript>
				  <a href="http://adserver.adtechus.com/adlink/3.0/5242.1/1374603/0/16/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Welcome_Ad_1x1;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp="  target="_blank">
				  <img src="http://adserver.adtechus.com/adserv/3.0/5242.1/1374603/0/16/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Welcome_Ad_1x1;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp=" border="0" width="1" height="1"></a>
				  </noscript>
				  <!-- End of JavaScript Tag --></span>
 
    </div>
    <div id="banner">
        <div id="banner_container">
            <div id="header_ad">
                    <span class="AdTech:Top"><script language="javascript">
				  <!--
					  document.write('<scr' + 'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5242.1/1374311/0/225/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Top_728x90;loc=100;target=_blank;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp='+PageGroupId+';misc=' + new Date().getTime() + '"></scri' + 'pt>');
				  //-->
				  </script>
				  <noscript>
				  <a href="http://adserver.adtechus.com/adlink/3.0/5242.1/1374311/0/225/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Top_728x90;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp="  target="_blank">
				  <img src="http://adserver.adtechus.com/adserv/3.0/5242.1/1374311/0/225/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Top_728x90;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp=" border="0" width="728" height="90"></a>
				  </noscript>
				  <!-- End of JavaScript Tag --></span>
 
            </div>
        </div>
    </div>
    <!-- End:   Global Header -->
    <div class="page">
        <div id="header_title">
            <div id="header_block">
                <div class="left">
                    <a id="header_title_tag" href="http://www.eetimes.com">
                        <img id="Electronics_Main_Tag" src='http://cdn.eetimes.com/StaticContent/v17/Images/Header/header_title.png'
                            width='193px' height='74' alt='Electronics Industry News' /></a> <a id="subheader_title_tag">
                                <img id="subheader_title_img" src="http://cdn.eetimes.com/StaticContent/v17/Images/EELife/spacer.gif" alt="" /></a>
                </div>
                <div class="right">
                      <form method="post" action="http://www.eetimes.com/Search/Search" onSubmit="return validateSearchText('#SearchTextBox', '#masterPageSearchError', 'The search text cannot contain < or >.')"">
                      <div class="val">
                        <label id="masterPageSearchError" class="error">
                        </label>
                        </div>
                    <div class="SearchTextBoxContain">
                        <input class="defaultTextBox" id="SearchTextBox" maxlength="500" name="SearchResultViewModel.SearchResultOptions.SearchTermsRaw" type="text" value="" />
                      </div>
                    <div id="master_search" class="search">
                        <input type="submit" value="Search" name="headerSearch" id="HeaderSearchButton" />
                    </div>
                    <div id="advanced_search">
                                               
                            <input type="submit" onclick="window.location='http://www.eetimes.com/Search/Search?resetSearch=true'" value="Advanced Search"/>
                         
                    </div>
                    </form>                   
                </div>
            </div>
            <div id="displayName"></div>
        </div>
        
        <div id="menucontainer">
                        <ul id="mainnav">
                <li id="NavLocator" class="WebColor"></li>               
                
                <li id="NewsAnalysis">
                    <a href="http://www.eetimes.com/electronics-news">News & Analysis</a>
                    <ul>
                        <li><a href="http://www.eetimes.com/electronics-news/latest-news">Latest News</a></li>
                        <li class="double"><a href="http://www.eetimes.com/electronics-news/semiconductor-news">Semiconductor News:<br />Silicon Strategies</a></li>                                                            
                        <li><a href="http://www.eetimes.com/electronics-news/magazines">Digital Editions</a></li>                               
                        <li><a href="http://confidential.eetimes.com/"><i>EE Times: Confidential</i></a></li> 
                        <li class="noLink">Hot Topics</li>
                        <li class="dotted"><a href="http://www.eetimes.com/landingpage/ces">Consumer Electronics</a></li>
                        <li class="dotted"><a href="http://www.eetimes.com/landingpage/mwc">Mobile World Congress</a></li>
                        <li class="dotted"><a href="http://www.eetimes.com/landingpage/designwest">Design West</a></li>
                     </ul>
                </li>                
                <li class="NavDivide"></li>
                <li id="EELife">
                    <a href="http://www.eetimes.com/electrical-engineer-community">EE Life</a>
                    <ul>
                        <li><a href="http://www.eetimes.com/electronics-blogs">Blogs</a></li>
                        <li><a href="http://www.eetimes.com/EELife/MessageBoardHome">Message Boards</a></li>
                        <li><a href="http://engineeringcareers.eetimes.com/">Engineering Careers</a></li>
                    </ul>
                </li>                
                <li class="NavDivide"></li>
                <li id="Design">
                    <a href="http://www.eetimes.com/design">Design</a>
                    <div> 
                        <ul>
                            <li class="noLink">Designlines</li>
                            <li><a href="http://www.eetimes.com/design/audio-design">Audio</a></li>
                            <li><a href="http://www.eetimes.com/design/automotive-design">Automotive</a> </li>
                            <li><a href="http://www.eetimes.com/design/communications-design">CommsDesign</a> </li>
                            <li><a href="http://www.eetimes.com/design/eda-design">EDA</a></li>                            
                            <li><a href="http://www.eetimes.com/design/embedded-internet-design">Embedded Internet</a></li>                            
                            <li><a href="http://www.eetimes.com/design/industrial-control">Industrial Control</a></li>
                            <li><a href="http://www.eetimes.com/design/microcontroller-mcu">MCU</a></li>
                            <li><a href="http://www.eetimes.com/design/medical-design">Medical</a></li>
                            <li><a href="http://www.eetimes.com/design/memory-design">Memory</a></li>                        
                            <li><a href="http://www.eetimes.com/design/military-aerospace-design">Military & Aerospace</a></li>
                        </ul>
                        <div></div>
                        <ul>
                            <li><a href="http://www.eetimes.com/design/analog-design">Planet Analog</a></li>
                            <li><a href="http://www.eetimes.com/design/power-management-design">Power Management</a></li>
                            <li><a href="http://www.eetimes.com/design/programmable-logic">Programmable Logic</a></li>
                            <li><a href="http://www.eetimes.com/design/microwave-rf-design">RF & Microwave</a></li>
                            <li><a href="http://www.eetimes.com/design/signal-processing-dsp">Signal Processing</a></li>
                            <li><a href="http://www.eetimes.com/design/smart-energy-design">Smart Energy</a></li>
                            <li><a href="http://www.eetimes.com/design/test-and-measurement">Test & Measurement</a></li>                                                            
                            <li class="sup"><a href="http://www.eetimes.com/design/design-tools">Design Tools</a></li>                            
                            <li><a href="http://www.eetimes.com/design/design-tools/reference-designs">Reference Designs</a></li>
                            <li><a href="http://www.eetimes.com/design/design-tools/evaluation-kits">Development Kits</a></li>
                            <li><a href="http://www.eetimes.com/design/embedded/source-code">Source Code</a></li>
                        </ul>
                    </div>
                </li>
                <li class="NavDivide"></li>
                <li id="Products">
                    <a href="http://www.eetimes.com/electronics-products">Products</a>
                    <div>
                        <ul>
                            <li class="asup"><a href="http://www.eetimes.com/electronics-products/electronic-product-reviews">Product Reviews</a></li>
                            <li class="asup"><a href="http://www.eetimes.com/Products/ProductHowTos">Product How Tos</a></li>
                            <li class="asup"><a href="http://www.eetimes.com/electronics-products/electronic-product-releases">Product Releases</a></li>
                            <li class="asup"><a href="http://www.eetimes.com/electronics-products/electronics-companies">Company Directory</a></li>
                            <li class="noLink">Product Categories</li>                            
                            <li><a href="http://www.eetimes.com/electronics-products/advanced-technology">Advanced Technology</a></li>
                            <li><a href="http://www.eetimes.com/electronics-products/analog-products">Analog</a></li>
                            <li><a href="http://www.eetimes.com/electronics-products/boards-buses-products">Boards/Buses</a></li>
                            <li><a href="http://www.eetimes.com/electronics-products/electro-mechanical">Electromechanical</a></li>
                            <li><a href="http://www.eetimes.com/electronics-products/embedded-tools">Embedded Tools</a></li>
                            <li><a href="http://www.eetimes.com/electronics-products/fpga-pld-products">FPGAs/PLDs</a></li>
                        </ul>    
                        <div></div>
                        <ul>  
                            <li><a href="http://www.eetimes.com/electronics-products/ip-eda-products">IP/EDA</a></li>
                            <li><a href="http://www.eetimes.com/electronics-products/logic-interfaces-products">Logic & Interfaces</a></li>
                            <li><a href="http://www.eetimes.com/electronics-products/memory-products">Memory</a></li>
                            <li><a href="http://www.eetimes.com/electronics-products/operating-systems">Operating Systems</a></li>
                            <li><a href="http://www.eetimes.com/electronics-products/opto-electronics-products">Optoelectronics</a></li>
                            <li><a href="http://www.eetimes.com/electronics-products/passives">Passives</a></li>
                            <li><a href="http://www.eetimes.com/electronics-products/power-products">Power</a></li>
                            <li><a href="http://www.eetimes.com/electronics-products/processors">Processors</a></li>
                            <li><a href="http://www.eetimes.com/electronics-products/rf-microwave-products">RF/Microwave</a></li>
                            <li><a href="http://www.eetimes.com/electronics-products/sensors-transducers">Sensors & Transducers</a></li>
                            <li><a href="http://www.eetimes.com/electronics-products/test-measurement">Test & Measurement</a></li>
                        </ul>                        
                    </div>
                </li>
                <li class="NavDivide"></li>
                <li id="EdTrain">
                    <a href="http://www.eetimes.com/electrical-engineers/education-training">Education & Training</a>
                    <ul>
                        <li><a href="http://www.eetimes.com/electrical-engineers/education-training/tech-papers">Tech Papers</a></li>
                        <li><a href="http://www.eetimes.com/electrical-engineers/education-training/courses">Courses</a></li>
                        <li class="fundamentals"><a href="http://www.eetimes.com/electrical-engineers/education-training/courses/fundamentals">Fundamentals</a></li>
                        <li><a href="http://www.eetimes.com/electrical-engineers/education-training/webinars">Webinars</a></li>
                    </ul>
                </li>
                <li class="NavDivide"></li>
                <li id="Events">
                    <a href="http://www.eetimes.com/electrical-engineers/events">Events</a>
                    <ul>
                        <li><a href="http://www.ubmdesign.com" target="_blank">Design West</a></li>
                        <li><a href="http://esc-boston.techinsightsevents.com" target="_blank">ESC Boston</a></li>        
                        <li><a href="http://esc-chicago.techinsightsevents.com" target="_blank">ESC Chicago</a></li>        
                        <li><a href="http://www.escbrazil.com.br" target="_blank">ESC Brazil</a></li>  
                        <li><a href="http://www.esc-india.com" target="_blank">ESC India</a></li>                              
                        <li><a href="http://embedded-live.com" target="_blank">Embedded Live</a></li>                                                                         
                        <li><a href="http://e.ubmelectronics.com/armtechcon" target="_blank">ARM Techcon</a></li>
                        <li><a href="http://www.designcon.com" target="_blank">DesignCon</a></li>   
                        <li><a href="http://www.eetimes.com/electrical-engineers/events/virtual-conferences">Virtual Conferences</a></li>                                                         
                    </ul>
                </li>
                <li class="NavDivide"></li>
                <li id="Video"><a href="http://video.eetimes.com">Video</a></li>
                <li class="NavDivide"></li>
                <li id="Embedded">
                    <a href="http://www.eetimes.com/design/embedded">Embedded.com</a>
                    <ul>
                        <li><a href="http://www.eetimes.com/design/embedded/source-code">Source Code</a></li>
                    </ul>
                </li>
                <li class="NavDivide"></li>
                <li id="Career"><a href="http://engineeringcareers.eetimes.com" target="_blank">Career</a></li>
                <li class="NavDivide"></li>
                <li id="EEDeals"><a href="http://eetimes.rapidbuyr.com/CurrentDeals">EE Deals</a></li>
                <li id="CurrentUser"><a href="http://www.eetimes.com/Registration/AccountSettings">My account</a></li>
                <li id="LogOff"><a href="http://www.eetimes.com/Registration/LogOff">Sign Out</a></li> 
                <li id="Join"><a href="http://www.eetimes.com/Registration/Registration?url=%2fdesign%2fembedded%2f4006505%2fMake-a-PI-controller-on-an-8-bit-micro%3fEcosystem%3dembedded%26cid%3dNL_UBM%2bElectronics" >Join</a></li> 
                <li id="SignIn"><a href="http://www.eetimes.com/Registration/Registration?url=%2fdesign%2fembedded%2f4006505%2fMake-a-PI-controller-on-an-8-bit-micro%3fEcosystem%3dembedded%26cid%3dNL_UBM%2bElectronics" >Sign In</a></li>
            </ul>
        </div>  
        
        
        
        <div id="main">
            
    <div id="threeColumn_left">
        <div id="SiteMap" class="Design_Color">
    <ul>
        <li><a href="/design">Design</a>
            <ul> 
                <li class="noLink">DesignLines
                    <ul>
                        <li><a href="/design/audio-design">Audio</a></li> 
                        <li><a href="/design/automotive-design">Automotive</a> </li> 
                        <li><a href="/design/communications-design">CommsDesign</a> </li> 
                        <li><a href="/design/eda-design">EDA</a></li> 
                        <li><a href="/design/embedded">Embedded.com</a></li>                                                                  
                        <li><a href="/design/embedded-internet-design">Embedded Internet</a></li> 
                        <li><a href="/design/industrial-control">Industrial Control</a></li> 
                        <li><a href="/design/microcontroller-mcu">MCU</a></li> 
                        <li><a href="/design/medical-design">Medical</a></li> 
                        <li><a href="/design/memory-design">Memory</a></li> 
                        <li><a href="/design/military-aerospace-design">Military & Aerospace</a></li> 
                        <li><a href="/design/analog-design">Planet Analog</a></li> 
                        <li><a href="/design/power-management-design">Power Management</a></li> 
                        <li><a href="/design/programmable-logic">Programmable Logic</a></li> 
                        <li><a href="/design/microwave-rf-design">RF & Microwave</a></li> 
                        <li><a href="/design/signal-processing-dsp">Signal Processing</a></li> 
                        <li><a href="/design/smart-energy-design">Smart Energy</a></li> 
                        <li><a href="/design/test-and-measurement">Test & Measurement</a></li> 
                    </ul>
                </li>
                <li><a href="/design/design-tools">Design Tools</a>
                    <ul>
                        <li><a href="/design/design-tools/reference-designs">Reference Designs</a> </li> 
                        <li><a href="/design/design-tools/evaluation-kits">Development Kits</a> </li> 
                        <li><a href="/design/embedded/source-code">Source Code</a></li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul> 
</div>    <span class="AdTech:Tile1"><script language="javascript">
				  <!--
					  document.write('<scr' + 'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5242.1/1374852/0/6/ADTECH;alias=EETimes_Design_Embeddedcom_Tile1_125x125;loc=100;target=_blank;key=4006505+/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi+Advanced_Technology+Design_Management+Industrial/Robotics/Motor_Control+Semiconductors+Software/Hardware_Development+Design_for_Manufacturing+Design_Techniques+Servers;grp='+PageGroupId+';misc=' + new Date().getTime() + '"></scri' + 'pt>');
				  //-->
				  </script>
				  <noscript>
				  <a href="http://adserver.adtechus.com/adlink/3.0/5242.1/1374852/0/6/ADTECH;alias=EETimes_Design_Embeddedcom_Tile1_125x125;loc=300;key=4006505+/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi+Advanced_Technology+Design_Management+Industrial/Robotics/Motor_Control+Semiconductors+Software/Hardware_Development+Design_for_Manufacturing+Design_Techniques+Servers;grp="  target="_blank">
				  <img src="http://adserver.adtechus.com/adserv/3.0/5242.1/1374852/0/6/ADTECH;alias=EETimes_Design_Embeddedcom_Tile1_125x125;loc=300;key=4006505+/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi+Advanced_Technology+Design_Management+Industrial/Robotics/Motor_Control+Semiconductors+Software/Hardware_Development+Design_for_Manufacturing+Design_Techniques+Servers;grp=" border="0" width="125" height="125"></a>
				  </noscript>
				  <!-- End of JavaScript Tag --></span>
    <span class="AdTech:Tile2"><script language="javascript">
				  <!--
					  document.write('<scr' + 'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5242.1/1375144/0/6/ADTECH;alias=EETimes_Design_Embeddedcom_Tile2_125x125;loc=100;target=_blank;key=4006505+/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi+Advanced_Technology+Design_Management+Industrial/Robotics/Motor_Control+Semiconductors+Software/Hardware_Development+Design_for_Manufacturing+Design_Techniques+Servers;grp='+PageGroupId+';misc=' + new Date().getTime() + '"></scri' + 'pt>');
				  //-->
				  </script>
				  <noscript>
				  <a href="http://adserver.adtechus.com/adlink/3.0/5242.1/1375144/0/6/ADTECH;alias=EETimes_Design_Embeddedcom_Tile2_125x125;loc=300;key=4006505+/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi+Advanced_Technology+Design_Management+Industrial/Robotics/Motor_Control+Semiconductors+Software/Hardware_Development+Design_for_Manufacturing+Design_Techniques+Servers;grp="  target="_blank">
				  <img src="http://adserver.adtechus.com/adserv/3.0/5242.1/1375144/0/6/ADTECH;alias=EETimes_Design_Embeddedcom_Tile2_125x125;loc=300;key=4006505+/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi+Advanced_Technology+Design_Management+Industrial/Robotics/Motor_Control+Semiconductors+Software/Hardware_Development+Design_for_Manufacturing+Design_Techniques+Servers;grp=" border="0" width="125" height="125"></a>
				  </noscript>
				  <!-- End of JavaScript Tag --></span>
    <span class="AdTech:Skyscraper"><script language="javascript">
				  <!--
					  document.write('<scr' + 'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5242.1/1374764/0/0/ADTECH;alias=EETimes_Design_Embeddedcom_Skyscraper_120x600_or_125x600;loc=100;target=_blank;key=4006505+/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi+Advanced_Technology+Design_Management+Industrial/Robotics/Motor_Control+Semiconductors+Software/Hardware_Development+Design_for_Manufacturing+Design_Techniques+Servers;grp='+PageGroupId+';misc=' + new Date().getTime() + '"></scri' + 'pt>');
				  //-->
				  </script>
				  <noscript>
				  <a href="http://adserver.adtechus.com/adlink/3.0/5242.1/1374764/0/0/ADTECH;alias=EETimes_Design_Embeddedcom_Skyscraper_120x600_or_125x600;loc=300;key=4006505+/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi+Advanced_Technology+Design_Management+Industrial/Robotics/Motor_Control+Semiconductors+Software/Hardware_Development+Design_for_Manufacturing+Design_Techniques+Servers;grp="  target="_blank">
				  <img src="http://adserver.adtechus.com/adserv/3.0/5242.1/1374764/0/0/ADTECH;alias=EETimes_Design_Embeddedcom_Skyscraper_120x600_or_125x600;loc=300;key=4006505+/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi+Advanced_Technology+Design_Management+Industrial/Robotics/Motor_Control+Semiconductors+Software/Hardware_Development+Design_for_Manufacturing+Design_Techniques+Servers;grp=" border="0" width="0" height="0"></a>
				  </noscript>
				  <!-- End of JavaScript Tag --></span>
    
    </div>        
    <div id="threeColumn_contain">
        <div id="threeColumn_top"><div id="breadcrumbs">
<a href="/">EE Times Home</a> &gt; <a href="/design">Design</a>
    &gt;<a href="/design/embedded">Embedded</a></div>     </div>
        <div id="threeColumn_mid"><script type="text/javascript">
    $(document).ready(function() {
        var url = '/General/ContentTracking/4006505?trackingTypeId=1&contentTypeId=3';
        $.get(url, null, null);
    });
</script>
<div id="NAA_Header" class="roundcorner_top">
    <p>Design Article</p>
    <p>
<table class="socialMediaWidget">
    <tr>
        <td class="xFacebook">
            <div class="social_media">
                <div id="fb-root"></div>
                <script src="http://connect.facebook.net/en_US/all.js#xfbml=1"></script>
                <fb:like href="http://www.eetimes.com/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-micro" send="false" layout="button_count" width="42" show_faces="true" font=""></fb:like>
            </div>
        </td>
        <td class="xGoogle_Plus">
            <div class="social_media">
                <div id="google_plus"></div>
                <!-- Place this tag where you want the +1 button to render -->
                <g:plusone size="medium"></g:plusone>
                <!--  Place this tag after the last plusone tag -->               
            </div>
        </td>
        <td class="xLinkedIn">
            <div class="social_media">
                <div id="linked_in"></div>
                <script src="http://platform.linkedin.com/in.js" type="text/javascript"></script>
                <script type="IN/Share" data-counter="right"></script>
            </div>
        </td>
        <td class="xTwitter">
            <div class="social_media">
                <div id="twitter">
                    <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
                    <a href="http://twitter.com/share" 
                        class="twitter-share-button" 
                        data-url="http://www.eetimes.com/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-micro" 
                        data-text="Make a PI controller on an 8-bit micro:" data-count="horizontal" data-via="eetimes" data-counturl="http://www.eetimes.com/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-micro" data-via="#">Tweet</a>
                </div>
            </div>
        </td>
    </tr>
</table>

</p>
</div>
<div id="NAA_Body" class="roundcorner_bottom">
    <div id="NNA_SB0"></div> 
    <div id="NNA_SB1"></div>
    <div id="NNA_SB1"></div>
    <div id="NNA_SB2"></div>
    <div id="NAA_Content">
        <div id="NAA_Title"><h1 class="Design_Color">Make a PI controller on an 8-bit micro</h1></div>
        <h2><b>
Crescencio Hernandez-Rosales, Ricardo Femat-Flores, and Griselda Quiroz-Compean
</b></h2>
        <h2><b>1/4/2006 1:06 PM EST</b></h2>

<div id='contentpages'>
This article shows you how to implement a classical PI (proportional-integral) controller on a simple 8-bit microcontroller. To implement the PI controller, we developed specific libraries that make it possible for the microcontroller to perform arithmetic operations with 16- and 32-bit precision. Such resolution is necessary to reduce the steady-state error of the system being controlled. One advantage of this configuration is that it can be programmed into microcontrollers with less than 128 bytes of RAM and 4KB of ROM on chip. This design has been used to control a direct current (DC) gear motor but can be used to control other kind of actuators as well. Experimental results show a good performance of the overall embedded system. 
<P>
Why would you use a PI (proportional-integral) controller instead of PID (proportional integral-derivative) controller? The PI controller is commonly used when the reference signal given to the system are steps (set-points). On the other hand if the reference signals imposed to the system are ramps or other kinds of time-functions, it's better to use a PID controller; nevertheless, in practice the derivative term could amplify disturbances input or noise as the PID is not well tuned. This can prompt oscillations or the system can become unstable.
<P>
<FONT SIZE="3" COLOR="#003366" FACE="Verdana"><B>Why use an 8-bitter?</B></FONT><BR>
Currently, several manufacturers make 16- and 32-bit microcontrollers (MCUs) with features that enable easy control of almost any process of medium complexity. Eight-bit microcontrollers still dominate the market, however, because of their small size, low cost, and simple programming. Because of these advantages, 8-bit MCUs are found in process control, automotive, industrial, and appliance applications, among many others.<sup>1, 2</sup> Some of the newer MCUs provide clock speeds from 4 to 40MHz; 64KB of internal flash memory and 1KB of RAM in some models; on-chip analog-to-digital converters (ADCs), digital-to-analog converters (DACs), or pulse-width modulator (PWM) outputs; a watchdog timer; 16-bits timers; and serial or USB ports. 
<P>
A few examples of these MCUs include: 
<P>
&#8226;	The enhanced 8051 from Intel, series 87C51RA/RB/RC
<P>
&#8226;	The W78E858 by Winbond Electronics, which is compatible with the Intel 8052
<P>
&#8226;	The P89V51RD2 chip from Phillips Semiconductors; its main features are the 64KB of flash and 1KB of RAM on chip; in addition to its PCA block, the P89V51RD2 is composed of four modules that can be configured as high speed I/O ports, compare/capture registers, PWMs, or watchdog timers <sup>3</sup>
<P>
&#8226;	The DS5000T series from Dallas Semiconductors; its main advantage is the 32KB of internal SRAM that can be partitioned as the user likes into data or program memory; in addition, it has a real-time clock on chip making it suitable for data logging applications <sup>4</sup>
<P>
&#8226;	The enhanced flash USB microcontroller series PIC18FX455/ X550 from Microchip incorporates 32KB of internal flash memory, ADCs, EAUSART, and USB V2.0 interfaces, making it, in our opinion, perfect for connectivity applications <sup>5</sup>
<P>
Although the features of 8-bit MCUs are continually improving, in most cases these new features are ignored by designers because they're using the chips for the control of states, which don't require the newer features.<sup>1, 2</sup> Recently a novel method has been used to exploit these kinds of MCUs by using them in a closed-loop configuration aided with the well-known classical control theory. Examples of work on this topic are available in the literature.<sup>6, 7, 8</sup> In such applications the authors demonstrated that  feedback control improves the control of some DC motors. It's important to mention that, in the examples, except in Johnston,<sup>7</sup> the realization of the PID (proportional-integral-derivative) controllers were implemented using 16-bit MCUs in Hitex's paper <sup>6</sup>  or, as in Neary,<sup>8</sup> where an integrated data acquisition system particularly the model ADuC845 by Analog Devices, was used.
<P>
Until few years ago, these kind of tasks (micro-positioning or servo control) had been addressed using digital signal processors (DSPs), mainly because such devices are faster and have higher precision than the 8-bits MCUs. However, some applications don't require high precision or the team simply can't justify the cost of a DSP. It's usually cheaper to use an 8- or 16-bit MCU without diminishing performance.
<P>
For both commercial and education reasons, we developed an alternative to control a DC gear motor in a closed-loop configuration using a standard Atmel AT89C52 device. This chip is a general-purpose 8-bit MCU without some of the features we mentioned earlier.<sup>3, 4, 5</sup> However, in this application, we show that a discrete-time control can be implemented into this simple MCU. Nevertheless a little of knowledge about the closed-loop is needed to apply this alternative. The following section describes some concepts of the control theory. Details can be found in the endnotes of this article.<sup>9, 10, 11, 12</sup>
<P>
<FONT SIZE="3" COLOR="#003366" FACE="Verdana"><B>Feedback-control theory </B></FONT><BR>
Figure 1 shows the block diagram of a closed-loop system. In this configuration a portion of the information is fed back from the process and subtracted from the reference signal in order to calculate the error signal. This error signal is used by the PID to adjust the control input such that the process output can reach the given reference.
<P>
<center><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/01Rosales01.gif"></center>
<P>
<a href="http://i.cmpnet.com/embedded/gifs/2006/0601/0106Rosales01XXL.gif">View the full-size image</a>
<P>

In this diagram, the <i>process block</i> refers to the physical system to be controlled. The <i>controller block</i> is an electronic device (a microcontroller) that calculates the necessary energy to modify the process such that the control objective can be reached. Usually, in a control scheme the <i>controller</i> precedes an actuator (for instance, a motor, turbine, valve, resistance, and so forth) so that the process can be manipulated. Finally, to close the loop, a <i>measurement block</i> is needed, which is often a sensor or transducer that provides a signal to automatically compare the actual state of the system variables with the desired objective.
<P>
Some of the motivation for using this configuration was to diminish the effects of parameter variations coming into the system, reduce the effects of disturbance inputs, improve the time transient responses of the process output, and to compensate for the steady-state error.<sup>9</sup> Another advantage of this approach is that the effects of the "dead zone" in the motors can be reduced.
<P>
<FONT SIZE="3" COLOR="#003366" FACE="Verdana"><B>The control problem</B></FONT><BR>
Our goal is to control the angular velocity of a DC gear motor by using a classical discrete-time PI-like controller. Figure 2 provides a block diagram of the sample data system. In the figure, <i>r</i>(<i>kT</i>) denotes the reference signal, <i>u</i>(<i>t</i>) is the control voltage applied to the motor, <i>x</i>(<i>t</i>) stands for the system output, <i>y</i>(<i>kT</i>) represents the discrete signal generated by the sensor (angular displacement), <i>V</i>(<i>kT</i>) is the output signal of the Velocity Sensor (VS), <i>e</i>(<i>kT</i>) is the error defined by the difference <i>r</i>(<i>kT</i>)&#8211;<i>V</i>(<i>kT</i>), <i>d</i>(<i>t</i>) and <i>n</i>(<i>t</i>) are, respectively, the disturbance input to the plant and the noise in the sensor.<sup>10</sup> Here (<i>kT</i>) is used to represent a discrete signal with a sample-time given by <i>T</i>.
<P>
<center><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/01Rosales02.gif"></center>
<P>
<a href="http://i.cmpnet.com/embedded/gifs/2006/0601/0106Rosales02XXL.gif">View the full-size image</a>
<P>
The control algorithm works like this. First, a reference signal is given to the MCU via a serial port. At this point the MCU enables the VS to count the pulses per revolution provided by the motor's optical encoder. A few milliseconds later, the MCU computes the <i>V</i>(<i>kT</i>), which is directly proportional to the motor's velocity. Using this signal, the MCU then calculates the error signal <i>e</i>(<i>kT</i>) and the voltage <i>u</i>(<i>kT</i>) by means of the PI-like controller, which is the control input in discrete-time. Such a signal is then converted into analog form, <i>u</i>(<i>t</i>), by means of the DAC.<sup>13</sup> The control input <i>u</i>(<i>t</i>) is current-amplified by the power stage and applied to the motor. This loop is repeated as many times as necessary until that the error signal <i>e</i>(<i>kT</i>) is near to zero. As the control objective is reached, the loop is terminated and the MCU waits for a new reference. 
<P>
Figure 3a shows the schematic diagram of the sample-data system from Figure 2. This design incorporates an LCD module where it's possible to display some data, such as the motor velocity. Figure 3b shows the printed circuit boards designed to control the DC gear motor. The board on the left contains the AT89C52-based control unit, while the board on the right holds the power supplies. Together these boards provide the output stage to directly control the motor. 
<P>
<center><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/01Rosales03.gif"></center>
<P>
<a href="http://i.cmpnet.com/embedded/gifs/2006/0601/0106Rosales03XXL.gif">View the full-size image</a>
<P>

<b><i>Microcontroller-based control stage</b></i><br>
This block contains the control unit and represents the brain of the electronic stage because it controls the other blocks. The AT89C52 includes 8KB of flash memory and 256 bytes of RAM, 32 I/O pins, three 16-bit counter/timers, and a UART. Programmed into the on-chip memory are the control algorithm (PI) and the velocity sensor routines.
<P>
<b><i>Digital-to-analog stage</b></i><br>
In this stage a Maxim MAX508 chip performs the digital-to-analog conversion with 12 bits of resolution. Through on-chip resistors, the DAC can be configured for one of the three output voltage ranges, from 0V to +5V, 0V to +10V, or 0V to &#177;5V, with a &#177;15V dual power supply. Digital data <i>u</i>(<i>kT</i>) is loaded into the input registers of the DAC in a right-justified (8+4) format. This allows an easy interface with the AT89C52 MCU. The resolution voltage is given by <i>u</i>(<i>t</i>) = <i>V</i><sub>REF</sub>&#91;(<i>u</i>(<i>kT</i>))/2<sup>11</sup>)&#93;, where <i>V</i><sub>REF</sub> is the internal voltage reference equal to +5V, <i>u</i>(<i>kT</i>), the input code (calculated by the PI algorithm), and <i>u</i>(<i>t</i>) the analog voltage supplied to the motor.<sup>13</sup> In this application the operation range is from 0 to &#177;10V.
<P>
<b><i>Power stage</b></i><br>
The power stage is implemented using a TIP-41C (NPN power transistor) in a "booster" current-amplifier configuration with an operation range from 0 to +10V. In this stage the DAC output current is amplified from 10mA to 6A to provide the current required by the motor. This stage also includes auxiliary circuitry to supply to the motor a negative voltage of -10.47V to return it to its home position. This circuitry is implemented by using a PNP power transistor TIP-42.
<P>
<b><i>Plant (gearmotor)</b></i><br>
The motor in this application is a 12W DC gear motor by Faulhaber MicroMo, model 2342S012CR, with a nominal voltage of 12V. The motor provides 637 oz/in of torque at normal load with a gear-reduction ratio 159:1. Speed at load is 5.3RPM at 12V, with maximum current consumption at load of 75mA. The control input is a DC voltage and the feedback output is the angular velocity <i>V</i>(<i>t</i>) in RPMs.<sup>14</sup>
<P>
<b><i>Optical encoder measurement stage </b></i><br>
In this stage the motor velocity is measured by means of the VS and an optical encoder (a HEDS5540G from Hewlett-Packard) that provides 360 pulses per revolution (PPR) in channels A and B, and 1 PPR in a third channel called Index. The VS (programmed into MCU) works as follows: the A channel of the optical encoder is connected to the external counter/timer T0 of the MCU and timer 2 is programmed with a capture time of 2ms, during which counter/timer 0 is incremented for each digital pulse provided for the encoder. Thus VS is measured in pulses per millisecond.
<P>
Figure 4 shows a comparison between the theoretical and actual motor velocity. The theoretical velocity comes from the manufacturer's data sheet while the actual velocity was measured using VS. Note on this graph there is an offset between these two signals. This difference is attributable to the nominal parameters of the motor. To corroborate the precision of VS, we measured the motor velocity using a high-precision oscilloscope and obtained results that were similar to VS.
<P>
<center><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/01Rosales04.gif"></center>
<P>
<a href="http://i.cmpnet.com/embedded/gifs/2006/0601/0106Rosales04XXL.gif">View the full-size image</a>
<P>

<P>
<b><i>Communication stage (ADC)</b></i><br>
This simple stage handles the communication between the computer and the motor-control unit by using the microcontroller's built-in serial port. The baud rate chosen was 9,600 bits per seconds, and a standard Maxim MAX232 chip converts the voltage level of the UART to RS-232 levels.
<P>
<b><i>Mechanical stage (gear box)</b></i><br>
This block is composed of two mechanical stages, a planetary gear box assembled with the motor, and another external gear box formed by a pair of worm gears with reduction ratios of 159:1 and 625:1. The main function of these stages is to reduce the angular velocity of the motor and to translate the angular motion to linear motion as shown in Figure 2.
<P>
<FONT SIZE="3" COLOR="#003366" FACE="Verdana"><B>Creating the Motor-Control Model</B></FONT><BR>
To apply well-establish classical control theory, it's necessary to designate in advance the mathematical model of the system to be controlled with the purpose of simulating its dynamic behavior in open-loop as well as closed-loop modes. Otherwise, the designer may not have enough experience to tune the parameters of the PID controller, and its closed-loop performance could be poor or, in the worst case, unstable. Depending on the mechanical system, this may cause injuries to the system or to the user. For this reason, we recommend simulating the system's behavior before planning its physical implementation. 
<P>
In general terms, a <i>model</i> is a set of differential equations that represents an approximation of the physical system's dynamics. One classic method to identify the model of simple systems is to excite it with a known input and measure the response. The inputs applied and the outputs measured depend on the nature of the system and the variables that the designer needs to control in the process. In applying these control techniques, we characterized our motor by applying voltages of 2.5V, 5V, 7.5V, and 9.47V over similar intervals of time to measure the motor's response to such inputs. 
<P>
<FONT SIZE="3" COLOR="#003366" FACE="Verdana"><B>Identifying the Model Input-Output (Cause-Effect)</B></FONT><BR>
Figure 5 shows the open-loop motor response when four steps were applied to its terminals. These signals show the angular velocity reached by the motor with such inputs and represent the steady-state gain of the system. Note that the motor response is similar to the simple-lag system response when it is excited with a step input; therefore, the motor model can be represented by Equation 1; see Chapter 4 of Ogata.<sup>12</sup>
<P>
<center><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/01Rosales05.gif"></center>
<P>
<a href="http://i.cmpnet.com/embedded/gifs/2006/0601/0106Rosales05XXL.gif">View the full-size image</a>
<P>
Equation 1 represents the general transfer function of a first order (simple-lag) system in the Laplace domain. Here <i>K<sub>M</sub></i> is the <i>steady-state gain</i> of the system and <i>T<sub>M</sub></i> is known as the <i>time-constant</i> of the system and is defined as the time at which the system output reaches the 63.2 % of the steady-state value.
<P>
<left><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/0106RosalesEqn01.gif"></left>
<P>

(1)
<P>

<P>

According to the definition of <i>T<sub>M</sub></i> and <i>K<sub>M</sub></i>, these values can be obtained from the open-loop motor response in Figure 5a. 
<P>
Equation 2 shows the transfer functions obtained for each step applied. 
<P>

<left><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/0106RosalesEqn02.gif"></left>
<P>
(2)
<P>

<P>
where the values of <i>T<sub>M</sub></i> and <i>K<sub>M</sub></i> substitued for <i>G</i><sub>1</sub> through <i>G</i><sub>4</sub> are in milliseconds and RPMs respectively.
<P>
However, note that <i>T<sub>M</sub></i> and the steady-state gain <i>K<sub>M</sub></i> are a little bit different for each step applied. For this reason, and without losing generality, we can take the arithmetical average of these parameters to obtain one nominal model that can approach as near as possible the real motor dynamic. Equation 3 displays the model obtained with this approximation. For more details on the identification of this model, see our report.<sup>15</sup> Figure 5b shows a comparison between the nominal model response simulated (red line) and the actual motor response (black line). From this graph we can deduce that the nominal model is capable of reproducing the motor dynamic and can therefore be safely used to tune the PI parameters.
<P>
It's important to point out that the inputs given to the motor model in simulations were similar in magnitude and time to the voltage given to the motor in the experimental identification.
<P>
<left><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/0106RosalesEqn03.gif"></left>
<P>
(3)
<P>

<P>
Once we've derived the nominal model of the motor (Equation 3), we proceed to tune the parameters of the PI controller. 
<P>
<FONT SIZE="3" COLOR="#003366" FACE="Verdana"><B>Tuning the PI Controller Parameters </B></FONT><BR>
Currently, many stability-analysis techniques are available, including the well-known Laplace method, frequency-response, Nyquist criterion, Bode representation, root-locus method, and others.<sup>9, 10, 12</sup> In this example, the selection of the PI parameters is based on root-locus design using the control system toolbox of MatLab. These parameters are chosen such that the closed-loop system is stable and so the system response can be fast without any overshoot.
<P>
Figure 6 shows the closed-loop configuration of the system in the Laplace domain and includes the motor and controller-transfer function. The control law used is a classical PI, where <i>T<sub>i</sub></i> is known as the <i>restoration time </i>of the integral action, <i>K<sub>p</sub></i> the <i>proportional gain</i>, and <i>K<sub>p</sub>/T<sub>i</sub></i> the integral gain.
<P>
<center><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/01Rosales06.gif"></center>
<P>
<a href="http://i.cmpnet.com/embedded/gifs/2006/0601/0106Rosales06XXL.gif">View the full-size image</a>
<P>
Figure 7a shows the simulated closed-loop motor response for different values of <i>K<sub>p</sub></i> and using the model given by Equation 3, with a <i>T<sub>i</sub></i> = 50ms. In this graph, it's easy see that, for values greater than 1, the system response is faster than with values of <i>K<sub>p</sub></i> &#60; 1. However, for <i>K<sub>p</sub></i> &#62; 1 the motor response exhibits undesirable overshoot that can reduce the useful life of the motor. In this example, the gain selected was <i>K<sub>p</sub></i> = 0.5, although <i>K<sub>p</sub></i> = 0.7 can be selected too. Figure 7b shows the simulated control input computes by the PI controller, such that the motor can reach the reference specified (6,000 RPM). Note that these signals are less than or equal to 10V, due to the saturation block included to simulate the DAC's output range. The following section shows the experimental motor response with the gains selected.
<P>
<center><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/01Rosales07.gif"></center>
<P>
<a href="http://i.cmpnet.com/embedded/gifs/2006/0601/0106Rosales07XXL.gif">View the full-size image</a>
<P>

<FONT SIZE="3" COLOR="#003366" FACE="Verdana"><B>Implementation of the PI Controller</B></FONT><BR>
PID controllers are widely used in the process-control industry, mainly because of their effectiveness and simple structure.<sup>16</sup>
<P>
Equation 4 shows the expression of a PID controller in continuous time, where <i>u</i>(<i>t</i>) is called the <i>control signal</i> and <i>e</i>(<i>t</i>) is the <i>error signal</i>. <i>K<sub>p</sub></i>, <i>K<sub>i</sub></i>, and <i>K<sub>d</sub></i> are the proportional, integral and differential gains, respectively. 
<P>
<left><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/0106RosalesEqn04.gif"></left>
<P>
(4)
<P>

<P>
In this example a PI controller is used, with <i>K<sub>d</sub></i> = 0 and <i>K<sub>i</sub></i> = <i>K<sub>p</sub></i>/<i>T<sub>i</sub></i>. Taking the derivative of Equation 4, we obtain:
<P>

<left><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/0106RosalesEqn05.gif"></left>
<P>
(5)
<P>

<P>
	
where: 
<P>

<left><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/0106RosalesEqn0A.gif"></left>
<P>

<P>
and:
<P>

<P>

<left><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/0106RosalesEqn0B.gif"></left>. 
<P>

<P>
However, this expression is difficult to implement in a microcontroller, so we can approximate the derivative by mean of Equation 6, known as the finite-difference approach, where &Delta;<i>T</i> is the sample time. 
<P>
<left><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/0106RosalesEqn06.gif"></left>
<P>
(6)
<P>

<P>
Substituting Equation 6 in Equation 5, we obtain the discrete-time PI controller.  
<P>
<left><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/0106RosalesEqn07.gif"></left>
<P>
(7)
<P>

<P>
Once reducing Equation 7 and substituting the PI parameters selected, <i>K<sub>p</sub></i> = 0.5, <i>T<sub>i</sub></i> = 50ms, with a sample time &Delta;<i>T</i> = 10ms, the discrete-time representation of the PI controller is obtained and can be implemented in the microcontroller.
<P>
<left><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/0106RosalesEqn08.gif"></left>
<P>
(8)
<P>

<P>
It's important to point out that in this application, the tuning of PI parameters was made in continuous time. However, the stability in discrete time must be analyzed with the parameters chosen too, mainly because the PI is implemented in a digital processor. In this analysis we found that the closed-loop poles are located in the unit circle (according to Routh's stability criterion for discrete-time systems), which means that the closed-loop system shown on Figure 6 is stable. In other words, this means the system is feasibly safe. For more details of this test, read Quiroz-Compen's report.<sup>17</sup>
<P>
Figure 8a shows the experimental motor response using Equation 8 in closed-loop configuration. The reference given to the MCU was 6,000 RPM. In practice, the motor reaches the reference in 0.01 min (600ms) and without overshoot. Nevertheless, the close-up in Figure 7a shows that there is a steady-state error, although its magnitude represents 1.3% of the steady-state value, which is acceptable in practice. Figure 8b shows the control input computes by the PI and applied to the motor for reach the reference imposed. 
<P>
<center><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/01Rosales08.gif"></center>
<P>
<a href="http://i.cmpnet.com/embedded/gifs/2006/0601/0106Rosales08XXL.gif">View the full-size image</a>
<P>
Figure 9 shows the flux diagram of the main program implemented into microcontroller. The assembly code is not shown to save space in this article, but you can find the code online at <A HREF="http://www.embedded.com/code">www.embedded.com/code</A>. 
<P>
<center><img src="http://i.cmpnet.com/embedded/gifs/2006/0601/01Rosales09.gif"></center>
<P>
<a href="http://i.cmpnet.com/embedded/gifs/2006/0601/0106Rosales09XXL.gif">View the full-size image</a>
<P>

In this article we showed that a feedback-control scheme can be implemented in a simple 8-bit MCU. Moreover, we've shown the use of a classic method to identify a DC motor. Despite the fact that the MCU is among the simpler ones available, the time it requires to compute the whole program and bring the motors to their maximum reference speed (9,100RPM) was only 866ms in the worst case. So we believe that using the newer MCUs in a closed-loop configuration can improve the control of some electro-mechanical actuators such as valves or motors and improve the performance of some processes with slow dynamic behavior. 
<P>
<i><b>Crescencio Hernndez-Rosales</b> is a laboratory technician from Institute of Research of San Luis Potosi and currently is working on the design and instrumentation of an electromechanical pump to delivery drugs to patients with Type I diabetes. He is interested in embedded systems design and the design and control of mechatronic devices. He has a degree in electrical engineering from the University of San Luis Potosi, Mexico. He can be reached at <a href="mailto:heros@titan.ipicyt.edu.mx">heros@titan.ipicyt.edu.mx</a>.</i>
<P>
<i><b>Ricardo Femat-Flores</b> is a professor and active researcher at the Institute of Research of San Luis Potosi. He has published 42 technical papers in international journals and five in international magazines. His current scientific interests are control and chaos theory and the regulation of the glucose concentration in diabetic patients. He can be reached at <a href="mailto:rfemat@ipicyt.edu.mx">rfemat@ipicyt.edu.mx</a>.</i>
<P>
<i><b>Griselda Quiroz-Compen</b> has received the Bc. Sc. degree from Technological Institute of San Luis Potosi and the Ms.Sc. degree from Institute of Research of San Luis Potosi, Mexico in 2003 and 2005 respectively. She is currently working toward the Sciences Doctor Degree in control and dynamical systems. Her research interests include control theory applied to biomedical sciences. She can be reached at <a href="mailto:gquiroz@ipicyt.edu.mx">gquiroz@ipicyt.edu.mx</a>.</i>
<P>
<b>Endnotes:</b><br>
1.	Maurice, B. "ST62 microcontrollers drive home appliance motor technology, AN885/1196," Application Note, ST Microelectronics, 1998, <A HREF="http://www.st.com"target="new">www.st.com</A>.
<P>
2.	Katausky, J., I. Horder, and L. Smith. "Analog/Digital Processing with Microcontrollers," AR-526 Applications Engineers, Intel Corporation, <A HREF="http://www.intel.com"target="new">www.intel.com</A>.
<P>
3.	Data sheet. "W78E858 8-bit microcontroller," Winbond Electronics, Rev. A4, May 2004. 
<P>
4.	Data sheet. "DS5000T Soft microcontroller Module," Dallas Semiconductors, <A HREF="http://www.maxim-ic.com"target="new">www.maxim-ic.com</A>.
<P>
5.	Data sheet. "PIC18F2455/2550/4455/4550, High-Performance, Enhanced Flash USB Microcontrollers with Nano Watt Technology," Microchip Technology Inc., 2004.
<P>
6.	Hitex. "Basic DC Motor Speed Control With The Infineon C167 Family." Hitex: UK. www.hitex.co.uk/c166/pidex.html.
<P>
7.	Johnston, K., S. Narum, G. Bergeson, and S. Bowden. "PID motor control with the Z8PE003," application note AN003002-0401, Zilog, Inc. 2001: <A HREF="http://www.Zilog.com"target="new">www.Zilog.com</A>.
<P>
8.	Neary, E. "Mixed-signal control circuits use microcontroller for flexibility in implementing PID algorithms," Analog Dialogue 38-01, January 2004. <A HREF="http://www.analog.com/analogdialogue"target="new">www.analog.com/analogdialogue</A>.
<P>
9.	de Vegte, J. V. Feedback control system, third ed., Prentice-Hall, New Jersey, 1994.
<P>
10.	Franklin, G. F. and J. D. Powell. Digital Control of Dynamic Systems, second ed. Addison-Wesley, 1990, USA.
<P>
11.	Dorf, R. C. and R. H. Bishop. <i>Modern Control Systems</i>, seventh ed. Addison-Wesley, 1995, USA.  
<P>
12.	Ogata, K. Ingenier'a de Control Moderna, 3 Ed. Prentice-Hall, 1998, Mxico.
<P>
13.	Data sheet. "MAX507/MAX0508, Voltage-Output 12-Bit DACs with Internal Reference," 19-4338: Rev A: 9/91, Maxim Integrated Products, Sept 1991.
<P>
14.	Data sheet. "12 Watts DC-Micromotors Graphite commutation, series 2342," CR, MicroMo Electronics, <A HREF="http://www.micromo.com"target="new">www.micromo.com</A>.
<P>
15.	Hernndez-Rosales, C., G. Quiroz, and R. Femat. "Instrumentacin de 2 prototipos de bombas electromecnicas para el suministro de medicamento," Reporte de investigacin IPICYT-DMASC No. 003, San Luis Potos', Mxico, Febrero 2005 (in Spanish).
<P>
16.	Wang, Q. G. "PID tuning for improved performance," IEEE Transactions on Control Systems Technology, Vol. 7, No. 4, Jul 1999.
<P>
17.	Quiroz-Compen. G. "Instrumentacin de una bomba para suministro de insulina," tesis de licenciatura, Tecnolgico de San Luis Potos', Mxico, Septiembre 2003 (in Spanish).
<P>

<P>
<a name="response"></a><B>Reader Response</B> 
<P>

<hr size=1>
<P>

<P>
Good article...
<P>
Another 8051 based micro you might consider are the 8051F0xx series from SiLabs. You could eliminate a lot of peripheral components (D/A, oscillators, and perhaps even some of the amplifier circuitry).
<P>
Although your assembly code is well written and commented nicely, I believe a good quality compiler and C would have made the project quicker and easier to maintain and adapt for various 8051 derivatives and other motor types.
<P>
Alternatives to using matlab for PI parameter selections should have been discussed--not everyone has MATLAB--and many that have it, don't have specialized toolboxes. For those that do have it, your MATLAB files would be helpful as well.
<P>

<P>
- Paul Calvert<br>
Senior engineer<br>
Radiance Technologies<br>
Huntsville, AL
<P>

<hr size=1>
<P>

<P>

                              
            

</div>        </div>
    
<script type="text/javascript">
    $(document).ready(function() {
        $("#NumberComments").html('(7)');
    });
</script>
<hr class="clear"/>
<div id="contentdetail">
    <table id='SocialMedia_table'>
        <tr>
            <td width="90">
             <p id="printbutton"> 
               <a href="javascript:void(0)" onclick="openprintviewwindow('/General/PrintView/4006505');">
              <img src="http://cdn.eetimes.com/StaticContent/v17/Images/Icons/SocialMediaBox/printLable.png" alt="print" width="70px" height="22px"/></a>
             </p>
             </td>
             <td width="90">
             <p>
              
                    <a href="#" onclick="javascript:alert('Please login to send email.');"><img src="http://cdn.eetimes.com/StaticContent/v17/Images/Icons/SocialMediaBox/emailLabel.png" alt="email" width="73px" height="22px"/></a>
               
             </p>
             </td>
            <td width="90">
             <p><a href="http://www.eetimes.com/electronics-rss/"><img src="http://cdn.eetimes.com/StaticContent/v17/Images/Icons/SocialMediaBox/rssLabel.png" alt="rss" width="63px" height="22px"/></a></p> 
            </td>
            <td width="130">
                <p><a href="#" onclick="scrollToPostComments(); "><img src="http://cdn.eetimes.com/StaticContent/v17/Images/Icons/SocialMediaBox/commentLabel.png" alt="post comment" width="74px" height="22px"/></a></p>
                <p id="NumberComments"></p> 
            </td> 
        </tr>
    </table>
    
<table class="socialMediaWidget">
    <tr>
        <td class="xFacebook">
            <div class="social_media">
                <div id="fb-root"></div>
                <script src="http://connect.facebook.net/en_US/all.js#xfbml=1"></script>
                <fb:like href="http://www.eetimes.com/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-micro" send="false" layout="button_count" width="42" show_faces="true" font=""></fb:like>
            </div>
        </td>
        <td class="xGoogle_Plus">
            <div class="social_media">
                <div id="google_plus"></div>
                <!-- Place this tag where you want the +1 button to render -->
                <g:plusone size="medium"></g:plusone>
                <!--  Place this tag after the last plusone tag -->               
            </div>
        </td>
        <td class="xLinkedIn">
            <div class="social_media">
                <div id="linked_in"></div>
                <script src="http://platform.linkedin.com/in.js" type="text/javascript"></script>
                <script type="IN/Share" data-counter="right"></script>
            </div>
        </td>
        <td class="xTwitter">
            <div class="social_media">
                <div id="twitter">
                    <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
                    <a href="http://twitter.com/share" 
                        class="twitter-share-button" 
                        data-url="http://www.eetimes.com/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-micro" 
                        data-text="Make a PI controller on an 8-bit micro:" data-count="horizontal" data-via="eetimes" data-counturl="http://www.eetimes.com/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-micro" data-via="#">Tweet</a>
                </div>
            </div>
        </td>
    </tr>
</table>


</div> 
<hr class="clear" />
    
<script type="text/javascript">
    $(document).ready(function() {
        $.getJSON("/General/IsUserSubscribed", { contentItemId :4006505 },
        function(data)
        {
            // change the text of the button based on the result
            if(data.status=="false")
            {
                $('#follow_comments').val("Follow Comments");
            }
            else
            {
                $('#follow_comments').val("Un-follow Comments");
            }
        });
    });
</script>
<br />
<div id="comments" name="comments"><div class="comments roundcorner childcommentsLevel1"id="10123"><div class="user"><img src="http://cdn.eetimes.com/StaticContent/v17/Images/Icons/AvatarLarge.png" width="75px" height="75px" alt="" /><br/>machines2008</div><div class="NNA_CommentTextSubBaseLevel1"><p class="timestamp">4/28/2008 1:56 PM EDT</p><p>realy so useful</p></div><div class="clear"></div><p align="right" class="sides10"><a href="http://www.eetimes.com/Registration/Registration?url=%2fdesign%2fembedded%2f4006505%2fMake-a-PI-controller-on-an-8-bit-micro%3fEcosystem%3dembedded%26cid%3dNL_UBM%2bElectronics">  Sign in to Reply </p> </a></div><br/><p class=clear IEclear"></p><div class="roundcorner childcommentsLevel2"id="46150"><div class="user"><img src="http://cdn.eetimes.com/StaticContent/v17/Images/Icons/AvatarLarge.png" width="75px" height="75px" alt="" /><br/>tariq7868</div><div class="NNA_CommentTextSubBaseLevel2"><p class="timestamp">4/2/2011 3:26 AM EDT</p><p>I can't find the souce code. Can you please give me the link or mail me at tariquesaleem7868@gmail.com ?<br />Thanks</p></div><div class="clear"></div><p align="right" class="sides10"><a href="http://www.eetimes.com/Registration/Registration?url=%2fdesign%2fembedded%2f4006505%2fMake-a-PI-controller-on-an-8-bit-micro%3fEcosystem%3dembedded%26cid%3dNL_UBM%2bElectronics">  Sign in to Reply </p> </a></div><br/><p class=clear IEclear"></p><div class="comments roundcorner childcommentsLevel1"id="30247"><div class="user"><img src="http://www.eetimes.com/Content/uploads/808835.JPG" width="75px" height="75px" alt="" /><br/>Miro56</div><div class="NNA_CommentTextSubBaseLevel1"><p class="timestamp">11/11/2010 9:29 AM EST</p><p>Always nice to see how somebody else is doing PI in an 8 bit.</p></div><div class="clear"></div><p align="right" class="sides10"><a href="http://www.eetimes.com/Registration/Registration?url=%2fdesign%2fembedded%2f4006505%2fMake-a-PI-controller-on-an-8-bit-micro%3fEcosystem%3dembedded%26cid%3dNL_UBM%2bElectronics">  Sign in to Reply </p> </a></div><br/><p class=clear IEclear"></p><div class="roundcorner childcommentsLevel2"id="46149"><div class="user"><img src="http://cdn.eetimes.com/StaticContent/v17/Images/Icons/AvatarLarge.png" width="75px" height="75px" alt="" /><br/>tariq7868</div><div class="NNA_CommentTextSubBaseLevel2"><p class="timestamp">4/2/2011 3:26 AM EDT</p><p>I can't find the souce code. Can you please give me the link or mail me at tariquesaleem7868@gmail.com ?<br />Thanks</p></div><div class="clear"></div><p align="right" class="sides10"><a href="http://www.eetimes.com/Registration/Registration?url=%2fdesign%2fembedded%2f4006505%2fMake-a-PI-controller-on-an-8-bit-micro%3fEcosystem%3dembedded%26cid%3dNL_UBM%2bElectronics">  Sign in to Reply </p> </a></div><br/><p class=clear IEclear"></p><div class="comments roundcorner childcommentsLevel1"id="45950"><div class="user"><img src="http://cdn.eetimes.com/StaticContent/v17/Images/Icons/AvatarLarge.png" width="75px" height="75px" alt="" /><br/>tariq7868</div><div class="NNA_CommentTextSubBaseLevel1"><p class="timestamp">3/31/2011 11:32 AM EDT</p><p>I can't find the souce code. Can anybody please give me the link or mail me at tariquesaleem7868@gmail.com ?<br />Thanks.</p></div><div class="clear"></div><p align="right" class="sides10"><a href="http://www.eetimes.com/Registration/Registration?url=%2fdesign%2fembedded%2f4006505%2fMake-a-PI-controller-on-an-8-bit-micro%3fEcosystem%3dembedded%26cid%3dNL_UBM%2bElectronics">  Sign in to Reply </p> </a></div><br/><p class=clear IEclear"></p><div class="comments roundcorner childcommentsLevel1"id="173370"><div class="user"><img src="http://cdn.eetimes.com/StaticContent/v17/Images/Icons/AvatarLarge.png" width="75px" height="75px" alt="" /><br/>lalitace</div><div class="NNA_CommentTextSubBaseLevel1"><p class="timestamp">7/30/2012 10:29 PM EDT</p><p>Where Can the Source Code Be Downloaded to Check and comment on. Please Prompt<br /><br />erlalitsahjni@gmail.com</p></div><div class="clear"></div><p align="right" class="sides10"><a href="http://www.eetimes.com/Registration/Registration?url=%2fdesign%2fembedded%2f4006505%2fMake-a-PI-controller-on-an-8-bit-micro%3fEcosystem%3dembedded%26cid%3dNL_UBM%2bElectronics">  Sign in to Reply </p> </a></div><br/><p class=clear IEclear"></p><div class="comments roundcorner childcommentsLevel1"id="175619"><div class="user"><img src="http://cdn.eetimes.com/StaticContent/v17/Images/Icons/AvatarLarge.png" width="75px" height="75px" alt="" /><br/>lalitace</div><div class="NNA_CommentTextSubBaseLevel1"><p class="timestamp">8/14/2012 8:29 PM EDT</p><p>Where Can the Source Code Be Downloaded to Check and comment on. Please Prompt<br />erlalitsahni@gmail.com</p></div><div class="clear"></div><p align="right" class="sides10"><a href="http://www.eetimes.com/Registration/Registration?url=%2fdesign%2fembedded%2f4006505%2fMake-a-PI-controller-on-an-8-bit-micro%3fEcosystem%3dembedded%26cid%3dNL_UBM%2bElectronics">  Sign in to Reply </p> </a></div><br/><p class=clear IEclear"></p></div>
<br />

<div id="post-comments">
    <h4><a href="/Registration/Registration?url=%2fdesign%2fembedded%2f4006505%2fMake-a-PI-controller-on-an-8-bit-micro%3fEcosystem%3dembedded%26cid%3dNL_UBM%2bElectronics">Please sign in to post comment </a></h4>
    <p><textarea name="description" id="DummyTextarea" rows="8" class="disabled" readonly="readonly"></textarea></p>
    <p>
        <input name="submit" type="button" disabled="disabled" value="Submit Comment" />
        <input name="follow_comments" type="button" disabled="disabled" value="Follow Comments" />
    </p>
</div>

    <p class="clear IEclear"></p>
</div></div>
        <div id="threeColumn_right">
            
<script type="text/javascript">
    function GetRelatedContentItemsByJSON() {
        var url = "/Search/GetRelatedContentItems";
        $.getJSON(url, { contentItemId: $("#ContentItemId").val() }, function(data) {
            var result = "";
            $.each(data, function(index, item) {
                if (typeof (item) != 'undefined' && item != null) {
                    result += '<hr/><div class="HomePage_Whatsnew_Art"><b>' + item.ContentType + '</b>:&nbsp;';
                    var itemUrl = item.RelativeUrl;
                    if (!itemUrl.indexOf("http://") == 0) itemUrl = "/" + itemUrl;
                    result += '<a href="' + itemUrl + '">' + item.Headline + '</a></div>';
                }
            });
            $("#RelatedContents").html(result);
        });
    }    
</script>
<div class="HomePage_Whatsnew roundcorner">
    <input id="ContentItemId" name="ContentItemId" type="hidden" value="4006505" />
    <div class="HomePage_Navigate_Title">Navigate to related information</div>
    <div id='RelatedContents' class="HomePage_Whatsnew_Body"></div>
    <script type="text/javascript">
        $("#RelatedContents").available(function() {
            var contentItemId = $("#ContentItemId").val();
            if (contentItemId != null && typeof (contentItemId) != 'undefined' && contentItemId != '') {
                GetRelatedContentItemsByJSON();
            }
        });
    </script>
    <p class="clear IEclear"></p>
</div>    <span class="AdTech:IMU1"><script language="javascript">
				  <!--
					  document.write('<scr' + 'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5242.1/1374611/0/0/ADTECH;alias=EETimes_Design_Embeddedcom_HP_IMU1_300x250_or_336x280;loc=100;target=_blank;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp='+PageGroupId+';misc=' + new Date().getTime() + '"></scri' + 'pt>');
				  //-->
				  </script>
				  <noscript>
				  <a href="http://adserver.adtechus.com/adlink/3.0/5242.1/1374611/0/0/ADTECH;alias=EETimes_Design_Embeddedcom_HP_IMU1_300x250_or_336x280;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp="  target="_blank">
				  <img src="http://adserver.adtechus.com/adserv/3.0/5242.1/1374611/0/0/ADTECH;alias=EETimes_Design_Embeddedcom_HP_IMU1_300x250_or_336x280;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp=" border="0" width="0" height="0"></a>
				  </noscript>
				  <!-- End of JavaScript Tag --></span>
<div id="MostPopStories" class="roundcorner">
    <h2>Most Popular</h2>
    <table cellpadding="0" cellspacing="0" border="0" width="100%" id="MostPopTable">
        <tr>
            <td valign="top"><b>1</b></td>                    
            <td><a href="/electronics-news/4394863/Jury-foreman-recounts-Apple-vs--Samsung-case?Ecosystem=embedded">Jury foreman in Apple vs. Samsung had 'light bulb moment'</a></td>
        </tr>
        <tr>
            <td valign="top"><b>2</b></td>                    
            <td><a href="/electronics-news/4394955/Renesas-president-won-t-quit--lays-out-priorities?Ecosystem=embedded">Renesas president won't quit, lays out priorities</a></td>
        </tr>
        <tr>
            <td valign="top"><b>3</b></td>                    
            <td><a href="/electronics-news/4394808/Teardown--Samsung-tablet-could-have-higher-margin-than-iPad?Ecosystem=embedded">Teardown: Samsung tablet could have higher margin than iPad</a></td>
        </tr>
        <tr>
            <td valign="top"><b>4</b></td>                    
            <td><a href="/electronics-news/4394929/Top-10-chip-vendors-hurt-by-weak-Q2?Ecosystem=embedded">Top 10 chip vendors hurt by weak 2nd quarter</a></td>
        </tr>
        <tr>
            <td valign="top"><b>5</b></td>                    
            <td><a href="/electronics-news/4394723/Slideshow--The-Apple-Samsung-verdict-form?Ecosystem=embedded">Slideshow: The Apple/Samsung verdict form</a></td>
        </tr>
        <tr>
            <td valign="top"><b>6</b></td>                    
            <td><a href="/electronics-news/4394937/Report-TSMC-rebuffs-Apple-Qualcomm?Ecosystem=embedded">TSMC said to rebuff Apple, Qualcomm</a></td>
        </tr>
        <tr>
            <td valign="top"><b>7</b></td>                    
            <td><a href="/electronics-news/4394717/After-Apple-win--Droids-should-be-scared?Ecosystem=embedded">After Apple win, Droids should feel afraid</a></td>
        </tr>
        <tr>
            <td valign="top"><b>8</b></td>                    
            <td><a href="/electronics-news/4394786/AMD-s-Jaguar-packs-four-cores-in-one-for-mobile?Ecosystem=embedded">AMD's Jaguar packs four cores in one for mobile</a></td>
        </tr>
        <tr>
            <td valign="top"><b>9</b></td>                    
            <td><a href="/electronics-news/4394920/Report--KKR-to-take-over-Renesas-with--1-27-billion-investment?Ecosystem=embedded">KKR said to target Renesas with $1.27 billion bid</a></td>
        </tr>
        <tr>
            <td valign="top"><b>10</b></td>                    
            <td><a href="/electronics-news/4394798/Counterpoint--Apple-scores-a-Pyrrhic-victory?Ecosystem=embedded">Counterpoint: Apple scores a Pyrrhic victory</a></td>
        </tr>
    </table>
    <p class="clear IEclear"></p>
</div><div id="PartsSearch" class="roundcorner">
    <h4 class="nomargin">Datasheets.com Parts Search</h4>
<h5>185 million searchable parts<br />
(please enter a part number or hit search to begin)</h5>
<form action="">
            <input type="text" name="user" id="datasheets_search_parts" value="powered by DataSheets.com" class="searchStyle datasheets_search"/>
            <input type="submit" id="datasheets_submit_parts" value="SEARCH" class="datasheets_submit"/>                          
            </form>
</div><div id="GetInvolvedPurchaseNow" class="NAA_Webpart roundcorner">                 
    <p class="clear IEclear"></p>   
</div>    <span class="AdTech:IMU2"><script language="javascript">
				  <!--
					  document.write('<scr' + 'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5242.1/1374250/0/0/ADTECH;alias=EETimes_Design_Embeddedcom_HP_IMU2_300x250_or_336x280;loc=100;target=_blank;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp='+PageGroupId+';misc=' + new Date().getTime() + '"></scri' + 'pt>');
				  //-->
				  </script>
				  <noscript>
				  <a href="http://adserver.adtechus.com/adlink/3.0/5242.1/1374250/0/0/ADTECH;alias=EETimes_Design_Embeddedcom_HP_IMU2_300x250_or_336x280;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp="  target="_blank">
				  <img src="http://adserver.adtechus.com/adserv/3.0/5242.1/1374250/0/0/ADTECH;alias=EETimes_Design_Embeddedcom_HP_IMU2_300x250_or_336x280;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp=" border="0" width="0" height="0"></a>
				  </noscript>
				  <!-- End of JavaScript Tag --></span>
<script type="text/javascript">
    $(document).ready(function () {
        if (hasReqestedVersion) {
            $("#HomePage_Videos_Title").html('<center><object id="flashObj" width="300" height="340" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,47,0"><param name="movie" value="http://c.brightcove.com/services/viewer/federated_f9?isVid=1&isUI=1" /><param name="bgcolor" value="#FFFFFF" /><param name="flashVars" value="@videoList=' + videoList + '&playerID=631791731001&playerKey=AQ%2E%2E,AAAAAF20n-g%2E,CF5jswuZOsWhTpmkTDpVrwWDUbpFzkf-&domain=embed&dynamicStreaming=true" /><param name="base" value="http://admin.brightcove.com" /><param name="seamlesstabbing" value="false" /><param name="allowFullScreen" value="true" /><param name="swLiveConnect" value="true" /><param name="allowScriptAccess" value="always" /><param name="wmode" value="transparent" /><embed wmode="transparent" src="http://c.brightcove.com/services/viewer/federated_f9?isVid=1&isUI=1" bgcolor="#FFFFFF" flashVars="@videoList=' + videoList + '&playerID=631791731001&playerKey=AQ%2E%2E,AAAAAF20n-g%2E,CF5jswuZOsWhTpmkTDpVrwWDUbpFzkf-&domain=embed&dynamicStreaming=true" base="http://admin.brightcove.com" name="flashObj" width="300" height="340" seamlesstabbing="false" type="application/x-shockwave-flash" allowFullScreen="true" allowScriptAccess="always" swLiveConnect="true" pluginspage="http://www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash"></embed></object></center>');
        } else {
            var alternateContent = '<a href="http://www.adobe.com/go/getflash/" target="_blank" title="Upgrade Flash"><div id="upgradeflash"></div></a>';
            $("#HomePage_Videos_Title").css("padding", "10px");
            $("#HomePage_Videos_Title").html(alternateContent);
        }
    });
</script>
<div id="HomePage_Videos">
    <div id="HomePage_Videos_Title" ><!--feed in by AC_OETages.js--></div>   
    <span class="clear"></span>
</div>                  
       </div>
    </div>        

        </div>
        <center>
        <!--JavaScript Tag // Tag for network 5242: United Business Media // Website: EETimes // Page: ROS_ROS // Placement: ROS_ROS_Button1_120x90 (2051106) // created at: Jun 15, 2011 5:06:33 PM-->
<script language="javascript"><!--
    document.write('<scr' + 'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5242.1/2051106/0/5/ADTECH;loc=100;target=_blank;key=key1+key2+key3+key4;grp=[group];misc=' + new Date().getTime() + '"></scri' + 'pt>');
//-->
</script><noscript><a href="http://adserver.adtechus.com/adlink/3.0/5242.1/2051106/0/5/ADTECH;loc=300;key=key1+key2+key3+key4;grp=[group]" target="_blank"><img src="http://adserver.adtechus.com/adserv/3.0/5242.1/2051106/0/5/ADTECH;loc=300;key=key1+key2+key3+key4;grp=[group]" border="0" width="120" height="90"></a></noscript>
<!-- End of JavaScript Tag -->

	

<!--JavaScript Tag // Tag for network 5242: United Business Media // Website: EETimes // Page: ROS_ROS // Placement: ROS_ROS_Bottom_728x90 (1709787) // created at: Jun 15, 2011 5:06:33 PM-->
<script language="javascript"><!--
    document.write('<scr' + 'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5242.1/1709787/0/225/ADTECH;loc=100;target=_blank;key=key1+key2+key3+key4;grp=[group];misc=' + new Date().getTime() + '"></scri' + 'pt>');
//-->
</script><noscript><a href="http://adserver.adtechus.com/adlink/3.0/5242.1/1709787/0/225/ADTECH;loc=300;key=key1+key2+key3+key4;grp=[group]" target="_blank"><img src="http://adserver.adtechus.com/adserv/3.0/5242.1/1709787/0/225/ADTECH;loc=300;key=key1+key2+key3+key4;grp=[group]" border="0" width="728" height="90"></a></noscript>
<!-- End of JavaScript Tag -->

	

<!--JavaScript Tag // Tag for network 5242: United Business Media // Website: EETimes // Page: ROS_ROS // Placement: ROS_ROS_Button2_120x90 (2051107) // created at: Jun 15, 2011 5:06:33 PM-->
<script language="javascript"><!--
    document.write('<scr' + 'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5242.1/2051107/0/5/ADTECH;loc=100;target=_blank;key=key1+key2+key3+key4;grp=[group];misc=' + new Date().getTime() + '"></scri' + 'pt>');
//-->
</script><noscript><a href="http://adserver.adtechus.com/adlink/3.0/5242.1/2051107/0/5/ADTECH;loc=300;key=key1+key2+key3+key4;grp=[group]" target="_blank"><img src="http://adserver.adtechus.com/adserv/3.0/5242.1/2051107/0/5/ADTECH;loc=300;key=key1+key2+key3+key4;grp=[group]" border="0" width="120" height="90"></a></noscript>
<!-- End of JavaScript Tag -->
</center>
                <div id="footer">
            <div id="footer_content">
                <hr class="footer_line" />
                <div class="footer_listings">
                    <h3 class="EELife_Color">More EE Times</h3>
                    <div class="footer_sublistings">
                        <ul>
                            <li><a href="http://www.eetimes.com/electronics-subscriptions">Subscriptions</a></li>
                            <li><a href="http://www.eetimes.com/electronics-newsletters">Newsletters</a></li>
                            <li><a href="https://ubmelectronics.box.com/s/lbxcm953icbnpousfv74">Editorial Calendar</a></li>
                            <li><a href="http://www.wrightsreprints.com/reprints/index.cfm?magid=2210">Reprints</a></li>
                            <li><a href="http://www.eetimes.com/electronics-rss">RSS Feeds</a></li>
                            <li><a href="http://ubmelectronics.com/media-kit/">Media Kit</a></li>                        
                        </ul>
                    </div>
                    <div class="footer_sublistings">
                        <ul>
                            <li><a href="http://www.eetimes.com/sitemap">Sitemap</a></li>
                            <li><a href="http://eetimesgroup.com/">About Us</a></li>
                            <li><a href="http://legal.us.ubm.com/privacy-notice/">Privacy Policy</a></li>
                            <li><a href="http://engineeringcareers.eetimes.com/">Engineering Careers Center</a></li>
                            <li><a href="http://eetimesgroup.com/contact-us/">Contact Us</a></li>
                            <li>Email: <a href="mailto:feedback@eetimes.com">feedback@eetimes.com</a><br />
                                <p class="support"><a href="mailto:support@eetimes.com">support@eetimes.com</a></p></li>                        
                        </ul>
                    </div>
                </div>
                <div class="footer_listings listing_border">
                    <h3 class="EELife_Color">EE Times Network</h3>
                    <div class="footer_sublistings">
                        <ul>
                            <li><a href="http://www.eetasia.com/">EE Times Asia</a></li> 
                            <li><a href="http://www.eet-china.com/">EE Times-China</a></li> 
                            <li><a href="http://www.eetindia.co.in/">EE Times-India</a></li> 
                            <li><a href="http://www.eetimes.eu/">EE Times Europe</a></li> 
                            <li><a href="http://eetimes.jp/">EE Times Japan</a></li> 
                            <li><a href="http://www.eetkorea.com/">EE Times Korea</a></li> 
                            <li><a href="http://www.eettaiwan.com/">EE Times Taiwan</a></li> 
                        </ul>
                    </div>
                    <div class="footer_sublistings">
                        <ul>
                            <li><a href="http://www.esmchina.com/">Electronic Supply &amp; Manufacturing China</a></li>
                            <li><a href="http://www.edn.com/">EDN</a></li>
                            <li><a href="http://www.designnews.com/">Design News</a></li>
                            <li><a href="http://www.techonlineindia.com/">TechOnline India</a></li>
                            <li><a href="http://www.tmworld.com/">Test & Measurement World</a></li>
                            <li><a href="http://www.design-reuse.com/">Design &amp; Reuse</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer_listing">
                    <img src="http://cdn.eetimes.com/StaticContent/v17/Images/Footer/ubm_footer_logo.png"
                        alt="UBM LOGO" width="33px" height="41px" /><br />
                    All materials on this site<br />
                    copyright &#169;2012 UBM Electronics,<br />
                    A UBM company<br />
                    All rights reserved <br/>
		            <span style="color:#e8e8e8">UBMWEB001A</span>
                </div>               
                <hr class="footer_line" />
            </div>
        </div>
            <span class="AdTech:Pagepeel"><script language="javascript">
				  <!--
					  document.write('<scr' + 'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5242.1/1374564/0/16/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Pagepeel_1x1;loc=100;target=_blank;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp='+PageGroupId+';misc=' + new Date().getTime() + '"></scri' + 'pt>');
				  //-->
				  </script>
				  <noscript>
				  <a href="http://adserver.adtechus.com/adlink/3.0/5242.1/1374564/0/16/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Pagepeel_1x1;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp="  target="_blank">
				  <img src="http://adserver.adtechus.com/adserv/3.0/5242.1/1374564/0/16/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Pagepeel_1x1;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp=" border="0" width="1" height="1"></a>
				  </noscript>
				  <!-- End of JavaScript Tag --></span>

            <span class="AdTech:Dropdown"><script language="javascript">
				  <!--
					  document.write('<scr' + 'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5242.1/1374210/0/16/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Dropdown_1x1;loc=100;target=_blank;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp='+PageGroupId+';misc=' + new Date().getTime() + '"></scri' + 'pt>');
				  //-->
				  </script>
				  <noscript>
				  <a href="http://adserver.adtechus.com/adlink/3.0/5242.1/1374210/0/16/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Dropdown_1x1;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp="  target="_blank">
				  <img src="http://adserver.adtechus.com/adserv/3.0/5242.1/1374210/0/16/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Dropdown_1x1;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp=" border="0" width="1" height="1"></a>
				  </noscript>
				  <!-- End of JavaScript Tag --></span>

            <span class="AdTech:Popunder"><script language="javascript">
				  <!--
					  document.write('<scr' + 'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5242.1/1375026/0/16/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Popunder_1x1;loc=100;target=_blank;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp='+PageGroupId+';misc=' + new Date().getTime() + '"></scri' + 'pt>');
				  //-->
				  </script>
				  <noscript>
				  <a href="http://adserver.adtechus.com/adlink/3.0/5242.1/1375026/0/16/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Popunder_1x1;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp="  target="_blank">
				  <img src="http://adserver.adtechus.com/adserv/3.0/5242.1/1375026/0/16/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Popunder_1x1;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp=" border="0" width="1" height="1"></a>
				  </noscript>
				  <!-- End of JavaScript Tag --></span>

            <span class="AdTech:Wallpaper"><script language="javascript">
				  <!--
					  document.write('<scr' + 'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5242.1/1893993/0/0/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Wallpaper_120x600_or_125x600;loc=100;target=_blank;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp='+PageGroupId+';misc=' + new Date().getTime() + '"></scri' + 'pt>');
				  //-->
				  </script>
				  <noscript>
				  <a href="http://adserver.adtechus.com/adlink/3.0/5242.1/1893993/0/0/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Wallpaper_120x600_or_125x600;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp="  target="_blank">
				  <img src="http://adserver.adtechus.com/adserv/3.0/5242.1/1893993/0/0/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Wallpaper_120x600_or_125x600;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp=" border="0" width="0" height="0"></a>
				  </noscript>
				  <!-- End of JavaScript Tag --></span>

            <span class="AdTech:Twig"><script language="javascript">
				  <!--
					  document.write('<scr' + 'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5242.1/1974363/0/16/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Twig_1x1;loc=100;target=_blank;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp='+PageGroupId+';misc=' + new Date().getTime() + '"></scri' + 'pt>');
				  //-->
				  </script>
				  <noscript>
				  <a href="http://adserver.adtechus.com/adlink/3.0/5242.1/1974363/0/16/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Twig_1x1;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp="  target="_blank">
				  <img src="http://adserver.adtechus.com/adserv/3.0/5242.1/1974363/0/16/ADTECH;alias=EETimes_Design_Embeddedcom_HP_Twig_1x1;loc=300;key=/design/embedded/4006505/Make-a-PI-controller-on-an-8-bit-mi;grp=" border="0" width="1" height="1"></a>
				  </noscript>
				  <!-- End of JavaScript Tag --></span>

    
    </div>   
      
    <script type="text/javascript" src="http://cdn.eetimes.com/StaticContent/v17/Scripts/jquery.corner.js"></script> 
    <script type="text/javascript" src="http://cdn.eetimes.com/StaticContent/v17/Scripts/Header.js"></script>    
    <script language="JavaScript" type="text/javascript" src="http://cdn.eetimes.com/StaticContent/v17/Scripts/s_code_remote_eetimes2.js"></script>  
    
    <link href="http://cdn.eetimes.com/StaticContent/v17/CSS/print.css" rel="stylesheet" type="text/css" media="print" />                
    <script type="text/javascript" src="http://cdn.eetimes.com/StaticContent/v17/Scripts/AC_OETags.js"></script>        
    <script type="text/javascript">
        var videoList = "609648096001";
        $(document).ready(function() {
        $("#Electronics_Main_Tag").attr("src", "http://cdn.eetimes.com/StaticContent/v17/Images/Header/header_titleDesign.png");
        $("#subheader_title_tag").css("visibility", "visible");
        $("#subheader_title_img").attr("src", "http://cdn.eetimes.com/StaticContent/v17/Images/Header/subheader_titleDesign.png");
        $("#subheader_title_img").attr("width", "64");
        $("#subheader_title_img").attr("height", "19");
        $("#subheader_title_img").attr("alt", "Design");  
        $("#subheader_title_tag").attr('href', '/Design/DesignHome');
        NavColor('Design');
        });
    </script>

<script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-15759428-3']);
    _gaq.push(['_setDomainName', '.eetimes.com']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

<!-- Yieldbot Intent Tag begin -->
<script type="text/javascript" src="http://cdn.yb0t.com/js/yieldbot.intent.js"></script>
<script type="text/javascript">
    var ybotq = ybotq || [];
    ybotq.push(['psn', 'd72e']);
    ybotq.push(['init']);
</script>
<!-- Yieldbot Intent Tag end -->

<script type="text/javascript">
    _bizo_data_partner_id = "1322";
</script>
<script type="text/javascript">
    (function () { (function () { var b, a; a = document.createElement("script"); a.type = "text/javascript"; a.async = true; a.src = "" + (window.location.protocol === "https:" ? "https://sjs." : "http://js.") + "bizographics.com/insight.min.js"; b = document.getElementsByTagName("script")[0]; return b.parentNode.insertBefore(a, b) })(); })();
</script>
    <script type="text/javascript">
        var _omniUserId = '';
        var _omniUserStatus = 'un-Registered';
    </script>
    

    <script type="text/javascript">
    var _scoutClassificationGroup = 'Embedded';
    var _scoutContentType = 'Design';      
        var _scoutContentId = '4006505';
        var _scoutTitle = "Make a PI controller on an 8-bit micro";
        var _omniPageName = "Embedded: Make a PI controller on an 8-bit micro";
        var _omniChannel = "Embedded";
        var _omniProp2 = "20060104";
        var _omniProp3 = "Embedded|4006505|Make a PI controller on an 8-bit micro";
        var _omniProp19 = _omniUserStatus;
        var _omniProp21 = _omniUserId;
        var _omniHier1 = "EETimes|Design|Embedded";
        var _omniEvents = "event5";
        var _omniProp1 = "", _omniProp4 = "", _omniProp5 = "", _omniProp6 = "", _omniProp7 = "", _omniProp9 = "", _omniProp10 = "",
            _omniProp12 = "", _omniProp14 = "", _omniProp15 = "", _omniProp16 = "", _omniProducts = "", _omniPageType = "";
    </script>
        <!-- SiteCatalyst code version: H.21. Copyright 1996-2010 Adobe, Inc. All Rights Reserved  More info available at http://www.omniture.com -->
    <script language="JavaScript" type="text/javascript"><!--
        function processOmniture() {
            s.pageName = _omniPageName;
            s.server = "";
            s.channel = _omniChannel;
            s.pageType = _omniPageType;
            s.prop1 = _omniProp1;
            s.prop2 = _omniProp2;
            s.prop3 = _omniProp3;
            s.prop4 = _omniProp4;
            s.prop5 = _omniProp5;
            s.prop6 = _omniProp6;
            s.prop7 = _omniProp7;
            s.prop8 = navigator.userAgent;
            s.prop9 = _omniProp9;
            s.prop10 = _omniProp10;
            s.prop11 = document.location;
            s.prop12 = _omniProp12;
            s.prop14 = _omniProp14;
            s.prop15 = _omniProp15;
            s.prop16 = _omniProp16;
            s.prop19 = _omniUserStatus;
            s.prop21 = _omniProp21;
            s.hier1 = _omniHier1;
            /* Conversion Variables */
            s.campaign = "";
            s.state = "";
            s.zip = "";
            s.events = _omniEvents;
            s.products = _omniProducts;
            s.purchaseID = "";
            s.eVar1 = "";
            s.eVar2 = "";
            s.eVar3 = "";
            s.eVar4 = "";
            s.eVar5 = "";
            s.eVar21 = "";
            s.eVar22 = "";
            s.eVar23 = "";
            /************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
            var s_code = s.t(); if (s_code) document.write(s_code) //-->
            ScoutTagCall(_omniUserId, _scoutContentId, _scoutTitle, _scoutContentType, _scoutClassificationGroup);
        }
    </script>
    <script language="JavaScript" type="text/javascript"><!--
        if (navigator.appVersion.indexOf('MSIE') >= 0) document.write(unescape('%3C') + '\!-' + '-')
    //--></script><noscript><a href="http://www.omniture.com" title="Web Analytics"><img
    src="http://cmp.112.2o7.net/b/ss/cmpglobalvista/1/H.21--NS/0"
    height="1" width="1" border="0" alt="" /></a></noscript><!--/DO NOT REMOVE/-->
    <!-- End SiteCatalyst code version: H.21. -->
    
        <!-- FA: This is replaced by Brightcove to handle its own registration shenanigans -->
        <script type="text/javascript" src="http://cdn.eetimes.com/StaticContent/v17/Scripts/EET.Service.js"></script>
        <script type="text/javascript" src="http://cdn.eetimes.com/StaticContent/v17/Scripts/EET.Registration.js"></script>
    
    <script type="text/javascript">
        adroll_adv_id = "GWVPIA5KRVBEJHYCODO6ZW";
        adroll_pix_id = "NKTHNRRVXBGWZOI4JB5YNL";
        (function () {
            var oldonload = window.onload;
            window.onload = function () {
                __adroll_loaded = true;
                var scr = document.createElement("script");
                var host = (("https:" == document.location.protocol) ? "https://s.adroll.com" : "http://a.adroll.com");
                scr.setAttribute('async', 'true');
                scr.type = "text/javascript";
                scr.src = host + "/j/roundtrip.js";
                ((document.getElementsByTagName('head') || [null])[0] ||
                    document.getElementsByTagName('script')[0].parentNode).appendChild(scr);
                if (oldonload) { oldonload() }
            };
        } ());
    </script>
</body>
</html>
